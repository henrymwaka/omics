----------------------------------------------
===== OMICS PLATFORM FULL SNAPSHOT =====
Generated on: 2025-11-21 20:36:10
Host: mail.reslab.dev
User: shaykins
Project root: /home/shaykins/Projects/omics
----------------------------------------------

## DIRECTORY STRUCTURE
/home/shaykins/Projects/omics
├── analytics
│   ├── admin.py
│   ├── apps.py
│   ├── __init__.py
│   ├── migrations
│   │   ├── __init__.py
│   │   └── __pycache__
│   ├── models.py
│   ├── __pycache__
│   │   ├── admin.cpython-310.pyc
│   │   ├── apps.cpython-310.pyc
│   │   ├── __init__.cpython-310.pyc
│   │   └── models.cpython-310.pyc
│   ├── tests.py
│   └── views.py
├── api
│   ├── admin.py
│   ├── apps.py
│   ├── __init__.py
│   ├── migrations
│   │   ├── __init__.py
│   │   └── __pycache__
│   ├── models.py
│   ├── __pycache__
│   │   ├── admin.cpython-310.pyc
│   │   ├── apps.cpython-310.pyc
│   │   ├── __init__.cpython-310.pyc
│   │   ├── models.cpython-310.pyc
│   │   ├── serializers.cpython-310.pyc
│   │   ├── urls.cpython-310.pyc
│   │   └── views.cpython-310.pyc
│   ├── serializers.py
│   ├── tests.py
│   ├── urls.py
│   └── views.py
├── bash
├── celerybeat-schedule
├── cookies.txt
├── db_backup_before_fix.sqlite3 -> /mnt/data/omics/db/db_backup_before_fix.sqlite3
├── db_backup_before_taxonomy_fix.sqlite3
├── db.sqlite3 -> /mnt/data/omics/db/db.sqlite3
├── docs
│   ├── API_README.api
│   ├── Omics_Blueprint.md
│   ├── Omics_Feature_Completion_Plan.md
│   ├── Omics_Roadmap.md
│   └── openapi.json
├── frontend
│   ├── dist
│   │   ├── assets
│   │   ├── hero.png
│   │   ├── index.html
│   │   ├── omics-bg.png
│   │   └── vite.svg
│   ├── eslint.config.js
│   ├── node_modules
│   │   ├── acorn
│   │   ├── acorn-jsx
│   │   ├── ajv
│   │   ├── ansi-styles
│   │   ├── argparse
│   │   ├── @babel
│   │   ├── balanced-match
│   │   ├── baseline-browser-mapping
│   │   ├── brace-expansion
│   │   ├── browserslist
│   │   ├── callsites
│   │   ├── caniuse-lite
│   │   ├── chalk
│   │   ├── color-convert
│   │   ├── color-name
│   │   ├── concat-map
│   │   ├── convert-source-map
│   │   ├── cookie
│   │   ├── cross-spawn
│   │   ├── csstype
│   │   ├── debug
│   │   ├── deep-is
│   │   ├── electron-to-chromium
│   │   ├── @esbuild
│   │   ├── esbuild
│   │   ├── escalade
│   │   ├── escape-string-regexp
│   │   ├── @eslint
│   │   ├── eslint
│   │   ├── @eslint-community
│   │   ├── eslint-plugin-react-hooks
│   │   ├── eslint-plugin-react-refresh
│   │   ├── eslint-scope
│   │   ├── eslint-visitor-keys
│   │   ├── espree
│   │   ├── esquery
│   │   ├── esrecurse
│   │   ├── estraverse
│   │   ├── esutils
│   │   ├── fast-deep-equal
│   │   ├── fast-json-stable-stringify
│   │   ├── fast-levenshtein
│   │   ├── fdir
│   │   ├── file-entry-cache
│   │   ├── find-up
│   │   ├── flat-cache
│   │   ├── flatted
│   │   ├── gensync
│   │   ├── globals
│   │   ├── glob-parent
│   │   ├── has-flag
│   │   ├── @humanfs
│   │   ├── @humanwhocodes
│   │   ├── ignore
│   │   ├── import-fresh
│   │   ├── imurmurhash
│   │   ├── isexe
│   │   ├── is-extglob
│   │   ├── is-glob
│   │   ├── @jridgewell
│   │   ├── jsesc
│   │   ├── json5
│   │   ├── json-buffer
│   │   ├── json-schema-traverse
│   │   ├── json-stable-stringify-without-jsonify
│   │   ├── js-tokens
│   │   ├── js-yaml
│   │   ├── keyv
│   │   ├── levn
│   │   ├── locate-path
│   │   ├── lodash.merge
│   │   ├── lru-cache
│   │   ├── minimatch
│   │   ├── ms
│   │   ├── nanoid
│   │   ├── natural-compare
│   │   ├── node-releases
│   │   ├── optionator
│   │   ├── parent-module
│   │   ├── path-exists
│   │   ├── path-key
│   │   ├── picocolors
│   │   ├── picomatch
│   │   ├── p-limit
│   │   ├── p-locate
│   │   ├── postcss
│   │   ├── prelude-ls
│   │   ├── punycode
│   │   ├── react
│   │   ├── react-dom
│   │   ├── react-refresh
│   │   ├── react-router
│   │   ├── react-router-dom
│   │   ├── resolve-from
│   │   ├── @rolldown
│   │   ├── @rollup
│   │   ├── rollup
│   │   ├── scheduler
│   │   ├── semver
│   │   ├── set-cookie-parser
│   │   ├── shebang-command
│   │   ├── shebang-regex
│   │   ├── source-map-js
│   │   ├── strip-json-comments
│   │   ├── supports-color
│   │   ├── tinyglobby
│   │   ├── type-check
│   │   ├── @types
│   │   ├── update-browserslist-db
│   │   ├── uri-js
│   │   ├── vite
│   │   ├── @vitejs
│   │   ├── which
│   │   ├── word-wrap
│   │   ├── yallist
│   │   └── yocto-queue
│   ├── package.json
│   ├── package-lock.json
│   ├── public
│   │   ├── hero.png
│   │   ├── omics-bg.png
│   │   └── vite.svg
│   ├── README.md
│   ├── src
│   │   ├── App.css
│   │   ├── App.css.save
│   │   ├── App.jsx
│   │   ├── assets
│   │   ├── components
│   │   ├── config.js
│   │   ├── context
│   │   ├── index.css
│   │   ├── main.jsx
│   │   ├── pages
│   │   ├── ProtectedRoute.jsx
│   │   ├── styles
│   │   └── UserBar.jsx
│   └── vite.config.js
├── generate_project_snapshot_full.sh
├── generate_project_snapshot_git.sh
├── generate_project_snapshot.sh
├── generate_project_snapshot_track.sh
├── import_taxonomy.py
├── LICENSE
├── manage.py
├── media -> /mnt/data/omics/media
├── ncbi_taxdump -> /mnt/data/omics/ncbi_taxdump
├── new_taxdump.zip
├── omics
│   ├── asgi.py
│   ├── celery.py
│   ├── __init__.py
│   ├── __pycache__
│   │   ├── celery.cpython-310.pyc
│   │   ├── __init__.cpython-310.pyc
│   │   ├── settings.cpython-310.pyc
│   │   ├── urls.cpython-310.pyc
│   │   ├── views.cpython-310.pyc
│   │   └── wsgi.cpython-310.pyc
│   ├── settings.py
│   ├── settings.py.bak
│   ├── settings.py.save
│   ├── urls.py
│   ├── views.py
│   └── wsgi.py
├── omics_core
│   ├── admin.py
│   ├── apps.py
│   ├── auth.py
│   ├── csrf_views
│   ├── forms.py
│   ├── __init__.py
│   ├── management
│   │   ├── commands
│   │   ├── __init__.py
│   │   └── __pycache__
│   ├── migrations
│   │   ├── 0001_initial.py
│   │   ├── 0002_omicsjob_metadata.py
│   │   ├── 0003_organism_search_name_alter_organism_kingdom_and_more.py
│   │   ├── 0004_project_deleted_at_project_is_active_and_more.py
│   │   ├── __init__.py
│   │   └── __pycache__
│   ├── models.py
│   ├── __pycache__
│   │   ├── admin.cpython-310.pyc
│   │   ├── apps.cpython-310.pyc
│   │   ├── auth.cpython-310.pyc
│   │   ├── forms.cpython-310.pyc
│   │   ├── __init__.cpython-310.pyc
│   │   ├── models.cpython-310.pyc
│   │   ├── serializers.cpython-310.pyc
│   │   ├── tasks.cpython-310.pyc
│   │   ├── urls.cpython-310.pyc
│   │   └── views.cpython-310.pyc
│   ├── serializers.py
│   ├── static
│   │   └── omics_core
│   ├── tasks
│   │   ├── cleanup_soft_deleted.py
│   │   ├── __init__.py
│   │   ├── __pycache__
│   │   └── run_fastqc.py
│   ├── tests.py
│   ├── urls.py
│   └── views.py
├── omics_snapshot_20251112_0940.txt
├── omics_status.sh
├── README.md
├── restore_snapshot.sh
├── show_snapshots_interactive.sh
├── show_snapshots.sh
├── snapshots
│   ├── omics_changes_2025-11-14_00-00.txt
│   ├── omics_changes_2025-11-14_04-00.txt
│   ├── omics_changes_2025-11-14_08-00.txt
│   ├── omics_changes_2025-11-14_12-00.txt
│   ├── omics_changes_2025-11-14_16-00.txt
│   ├── omics_changes_2025-11-14_20-00.txt
│   ├── omics_changes_2025-11-15_00-00.txt
│   ├── omics_changes_2025-11-15_04-00.txt
│   ├── omics_changes_2025-11-15_08-00.txt
│   ├── omics_changes_2025-11-15_12-00.txt
│   ├── omics_changes_2025-11-15_16-00.txt
│   ├── omics_changes_2025-11-15_20-00.txt
│   ├── omics_changes_2025-11-16_00-00.txt
│   ├── omics_changes_2025-11-16_04-00.txt
│   ├── omics_changes_2025-11-16_08-00.txt
│   ├── omics_changes_2025-11-16_12-00.txt
│   ├── omics_changes_2025-11-16_16-00.txt
│   ├── omics_changes_2025-11-16_20-00.txt
│   ├── omics_changes_2025-11-17_00-00.txt
│   ├── omics_changes_2025-11-17_04-00.txt
│   ├── omics_changes_2025-11-17_08-00.txt
│   ├── omics_changes_2025-11-17_12-00.txt
│   ├── omics_changes_2025-11-17_16-00.txt
│   ├── omics_changes_2025-11-17_20-00.txt
│   ├── omics_changes_2025-11-18_00-00.txt
│   ├── omics_changes_2025-11-18_04-00.txt
│   ├── omics_changes_2025-11-18_08-00.txt
│   ├── omics_changes_2025-11-18_12-00.txt
│   ├── omics_changes_2025-11-18_16-00.txt
│   ├── omics_changes_2025-11-18_20-00.txt
│   ├── omics_changes_2025-11-19_00-00.txt
│   ├── omics_changes_2025-11-19_04-00.txt
│   ├── omics_changes_2025-11-19_08-00.txt
│   ├── omics_changes_2025-11-19_12-00.txt
│   ├── omics_changes_2025-11-19_16-00.txt
│   ├── omics_changes_2025-11-19_20-00.txt
│   ├── omics_changes_2025-11-20_00-00.txt
│   ├── omics_changes_2025-11-20_04-00.txt
│   ├── omics_changes_2025-11-20_08-00.txt
│   ├── omics_changes_2025-11-20_12-00.txt
│   ├── omics_changes_2025-11-20_20-00.txt
│   ├── omics_changes_2025-11-21_00-00.txt
│   ├── omics_changes_2025-11-21_04-00.txt
│   ├── omics_changes_2025-11-21_08-00.txt
│   ├── omics_changes_2025-11-21_12-00.txt
│   ├── omics_changes_2025-11-21_16-00.txt
│   ├── omics_snapshot_2025-11-12_10-03.zip
│   ├── omics_snapshot_2025-11-12_12-00.zip
│   ├── omics_snapshot_2025-11-12_12-23.zip
│   ├── omics_snapshot_2025-11-12_12-27.zip
│   ├── omics_snapshot_2025-11-12_12-33.zip
│   ├── omics_snapshot_2025-11-12_12-35.zip
│   ├── omics_snapshot_2025-11-12_12-39.zip
│   ├── omics_snapshot_2025-11-12_16-00.zip
│   ├── omics_snapshot_2025-11-12_20-00.zip
│   ├── omics_snapshot_2025-11-13_00-00.zip
│   ├── omics_snapshot_2025-11-13_04-00.zip
│   ├── omics_snapshot_2025-11-13_08-00.zip
│   ├── omics_snapshot_2025-11-13_12-00.zip
│   ├── omics_snapshot_2025-11-13_16-00.zip
│   ├── omics_snapshot_2025-11-13_20-00.zip
│   ├── omics_snapshot_2025-11-14_00-00.txt
│   ├── omics_snapshot_2025-11-14_00-00.zip
│   ├── omics_snapshot_2025-11-14_04-00.txt
│   ├── omics_snapshot_2025-11-14_04-00.zip
│   ├── omics_snapshot_2025-11-14_05-49.txt
│   ├── omics_snapshot_2025-11-14_08-00.txt
│   ├── omics_snapshot_2025-11-14_08-00.zip
│   ├── omics_snapshot_2025-11-14_12-00.txt
│   ├── omics_snapshot_2025-11-14_12-00.zip
│   ├── omics_snapshot_2025-11-14_16-00.txt
│   ├── omics_snapshot_2025-11-14_16-00.zip
│   ├── omics_snapshot_2025-11-14_20-00.txt
│   ├── omics_snapshot_2025-11-14_20-00.zip
│   ├── omics_snapshot_2025-11-15_00-00.txt
│   ├── omics_snapshot_2025-11-15_00-00.zip
│   ├── omics_snapshot_2025-11-15_04-00.txt
│   ├── omics_snapshot_2025-11-15_04-00.zip
│   ├── omics_snapshot_2025-11-15_08-00.txt
│   ├── omics_snapshot_2025-11-15_08-00.zip
│   ├── omics_snapshot_2025-11-15_12-00.txt
│   ├── omics_snapshot_2025-11-15_12-00.zip
│   ├── omics_snapshot_2025-11-15_16-00.txt
│   ├── omics_snapshot_2025-11-15_16-00.zip
│   ├── omics_snapshot_2025-11-15_20-00.txt
│   ├── omics_snapshot_2025-11-15_20-00.zip
│   ├── omics_snapshot_2025-11-16_00-00.txt
│   ├── omics_snapshot_2025-11-16_00-00.zip
│   ├── omics_snapshot_2025-11-16_04-00.txt
│   ├── omics_snapshot_2025-11-16_04-00.zip
│   ├── omics_snapshot_2025-11-16_08-00.txt
│   ├── omics_snapshot_2025-11-16_08-00.zip
│   ├── omics_snapshot_2025-11-16_12-00.txt
│   ├── omics_snapshot_2025-11-16_12-00.zip
│   ├── omics_snapshot_2025-11-16_16-00.txt
│   ├── omics_snapshot_2025-11-16_16-00.zip
│   ├── omics_snapshot_2025-11-16_20-00.txt
│   ├── omics_snapshot_2025-11-16_20-00.zip
│   ├── omics_snapshot_2025-11-17_00-00.txt
│   ├── omics_snapshot_2025-11-17_00-00.zip
│   ├── omics_snapshot_2025-11-17_04-00.txt
│   ├── omics_snapshot_2025-11-17_04-00.zip
│   ├── omics_snapshot_2025-11-17_08-00.txt
│   ├── omics_snapshot_2025-11-17_08-00.zip
│   ├── omics_snapshot_2025-11-17_12-00.txt
│   ├── omics_snapshot_2025-11-17_12-00.zip
│   ├── omics_snapshot_2025-11-17_16-00.txt
│   ├── omics_snapshot_2025-11-17_16-00.zip
│   ├── omics_snapshot_2025-11-17_20-00.txt
│   ├── omics_snapshot_2025-11-17_20-00.zip
│   ├── omics_snapshot_2025-11-18_00-00.txt
│   ├── omics_snapshot_2025-11-18_00-00.zip
│   ├── omics_snapshot_2025-11-18_04-00.txt
│   ├── omics_snapshot_2025-11-18_04-00.zip
│   ├── omics_snapshot_2025-11-18_08-00.txt
│   ├── omics_snapshot_2025-11-18_08-00.zip
│   ├── omics_snapshot_2025-11-18_12-00.txt
│   ├── omics_snapshot_2025-11-18_12-00.zip
│   ├── omics_snapshot_2025-11-18_16-00.txt
│   ├── omics_snapshot_2025-11-18_16-00.zip
│   ├── omics_snapshot_2025-11-18_20-00.txt
│   ├── omics_snapshot_2025-11-18_20-00.zip
│   ├── omics_snapshot_2025-11-19_00-00.txt
│   ├── omics_snapshot_2025-11-19_00-00.zip
│   ├── omics_snapshot_2025-11-19_04-00.txt
│   ├── omics_snapshot_2025-11-19_04-00.zip
│   ├── omics_snapshot_2025-11-19_08-00.txt
│   ├── omics_snapshot_2025-11-19_08-00.zip
│   ├── omics_snapshot_2025-11-19_12-00.txt
│   ├── omics_snapshot_2025-11-19_12-00.zip
│   ├── omics_snapshot_2025-11-19_16-00.txt
│   ├── omics_snapshot_2025-11-19_16-00.zip
│   ├── omics_snapshot_2025-11-19_20-00.txt
│   ├── omics_snapshot_2025-11-19_20-00.zip
│   ├── omics_snapshot_2025-11-20_00-00.txt
│   ├── omics_snapshot_2025-11-20_00-00.zip
│   ├── omics_snapshot_2025-11-20_04-00.txt
│   ├── omics_snapshot_2025-11-20_04-00.zip
│   ├── omics_snapshot_2025-11-20_08-00.txt
│   ├── omics_snapshot_2025-11-20_08-00.zip
│   ├── omics_snapshot_2025-11-20_12-00.txt
│   ├── omics_snapshot_2025-11-20_12-00.zip
│   ├── omics_snapshot_2025-11-20_20-00.txt
│   ├── omics_snapshot_2025-11-20_20-00.zip
│   ├── omics_snapshot_2025-11-21_00-00.txt
│   ├── omics_snapshot_2025-11-21_00-00.zip
│   ├── omics_snapshot_2025-11-21_04-00.txt
│   ├── omics_snapshot_2025-11-21_04-00.zip
│   ├── omics_snapshot_2025-11-21_08-00.txt
│   ├── omics_snapshot_2025-11-21_08-00.zip
│   ├── omics_snapshot_2025-11-21_12-00.txt
│   ├── omics_snapshot_2025-11-21_12-00.zip
│   ├── omics_snapshot_2025-11-21_16-00.txt
│   ├── omics_snapshot_2025-11-21_16-00.zip
│   ├── omics_snapshot_2025-11-21_20-00.zip
│   └── omics_snapshot_2025-11-21_20-36.txt
├── static
│   ├── admin
│   │   ├── css
│   │   ├── img
│   │   └── js
│   ├── drf-yasg
│   │   ├── immutable.js
│   │   ├── immutable.min.js
│   │   ├── insQ.js
│   │   ├── insQ.min.js
│   │   ├── README
│   │   ├── redoc
│   │   ├── redoc-init.js
│   │   ├── redoc-old
│   │   ├── style.css
│   │   ├── swagger-ui-dist
│   │   └── swagger-ui-init.js
│   ├── hero.png
│   ├── index.html
│   ├── omics-bg.png
│   ├── rest_framework
│   │   ├── css
│   │   ├── docs
│   │   ├── fonts
│   │   ├── img
│   │   └── js
│   └── vite.svg
├── uploads -> /mnt/data/omics/uploads
├── users
│   ├── admin.py
│   ├── apps.py
│   ├── auth.py
│   ├── __init__.py
│   ├── migrations
│   │   ├── __init__.py
│   │   └── __pycache__
│   ├── models.py
│   ├── __pycache__
│   │   ├── admin.cpython-310.pyc
│   │   ├── apps.cpython-310.pyc
│   │   ├── auth.cpython-310.pyc
│   │   ├── __init__.cpython-310.pyc
│   │   ├── models.cpython-310.pyc
│   │   ├── urls.cpython-310.pyc
│   │   └── views.cpython-310.pyc
│   ├── tests.py
│   ├── urls.py
│   └── views.py
└── venv
    ├── bin
    │   ├── activate
    │   ├── activate.csh
    │   ├── activate.fish
    │   ├── Activate.ps1
    │   ├── celery
    │   ├── django-admin
    │   ├── f2py
    │   ├── gunicorn
    │   ├── normalizer
    │   ├── numpy-config
    │   ├── pip
    │   ├── pip3
    │   ├── pip3.10
    │   ├── python -> python3
    │   ├── python3 -> /usr/bin/python3
    │   ├── python3.10 -> python3
    │   └── sqlformat
    ├── include
    ├── lib
    │   └── python3.10
    ├── lib64 -> lib
    └── pyvenv.cfg

178 directories, 319 files

## ENVIRONMENT INFO
Python: Python 3.10.12
Django: 5.2.8
Celery: 5.5.3 (immunity)
Node: v20.19.5
NPM: 10.8.2
Git branch: main

## BACKEND FILES SNAPSHOT
### FILE: manage.py
-----------------------------------
#!/usr/bin/env python
"""Django's command-line utility for administrative tasks."""
import os
import sys


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'omics.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()


### FILE: omics/settings.py
-----------------------------------
"""
ResLab Omics Platform - Unified Django Settings
Production-ready settings for omics.reslab.dev
Deployed under Nginx + Gunicorn + Cloudflare.
"""

from pathlib import Path
from datetime import timedelta

# ---------------------------------------------------------------------
# BASE PATHS
# ---------------------------------------------------------------------
BASE_DIR = Path(__file__).resolve().parent.parent

# ---------------------------------------------------------------------
# SECURITY CONFIGURATION
# ---------------------------------------------------------------------
SECRET_KEY = "django-insecure-aisbjh0#dngj#zn66rpl90mys+fr1!xy%8xk72ur9gggbslz=w"

DEBUG = True  # change to False in production

ALLOWED_HOSTS = [
    "omics.reslab.dev",
    "www.omics.reslab.dev",
    "127.0.0.1",
    "localhost",
]

# ---------------------------------------------------------------------
# APPLICATIONS
# ---------------------------------------------------------------------
INSTALLED_APPS = [
    # Django core apps
    "django.contrib.admin",
    "django.contrib.auth",
    "django.contrib.contenttypes",
    "django.contrib.sessions",
    "django.contrib.messages",
    "django.contrib.staticfiles",

    # Tools
    "django_celery_beat",
    "django_extensions",

    # Third-party
    "rest_framework",
    "rest_framework_simplejwt",
    "drf_yasg",

    # Local apps
    "omics_core",
    "uploads",
    "analytics",
    "api",
    "users",
]

# ---------------------------------------------------------------------
# MIDDLEWARE
# ---------------------------------------------------------------------
MIDDLEWARE = [
    "django.middleware.security.SecurityMiddleware",
    "django.contrib.sessions.middleware.SessionMiddleware",
    "django.middleware.common.CommonMiddleware",
    "django.middleware.csrf.CsrfViewMiddleware",
    "django.contrib.auth.middleware.AuthenticationMiddleware",
    "django.contrib.messages.middleware.MessageMiddleware",
    "django.middleware.clickjacking.XFrameOptionsMiddleware",
]

# ---------------------------------------------------------------------
# URLS / WSGI
# ---------------------------------------------------------------------
ROOT_URLCONF = "omics.urls"
WSGI_APPLICATION = "omics.wsgi.application"

# ---------------------------------------------------------------------
# TEMPLATES
# ---------------------------------------------------------------------
TEMPLATES = [
    {
        "BACKEND": "django.template.backends.django.DjangoTemplates",
        "DIRS": [
            BASE_DIR / "frontend" / "dist",
        ],
        "APP_DIRS": True,
        "OPTIONS": {
            "context_processors": [
                "django.template.context_processors.debug",
                "django.template.context_processors.request",
                "django.contrib.auth.context_processors.auth",
                "django.contrib.messages.context_processors.messages",
            ],
        },
    },
]

# ---------------------------------------------------------------------
# DATABASE
# ---------------------------------------------------------------------
DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.sqlite3",
        "NAME": "/mnt/data/omics/db/db.sqlite3",
    }
}

# ---------------------------------------------------------------------
# PASSWORD VALIDATION
# ---------------------------------------------------------------------
AUTH_PASSWORD_VALIDATORS = [
    {"NAME": "django.contrib.auth.password_validation.UserAttributeSimilarityValidator"},
    {"NAME": "django.contrib.auth.password_validation.MinimumLengthValidator"},
    {"NAME": "django.contrib.auth.password_validation.CommonPasswordValidator"},
    {"NAME": "django.contrib.auth.password_validation.NumericPasswordValidator"},
]

# ---------------------------------------------------------------------
# INTERNATIONALIZATION
# ---------------------------------------------------------------------
LANGUAGE_CODE = "en-us"
TIME_ZONE = "Africa/Kampala"
USE_I18N = True
USE_TZ = True

# ---------------------------------------------------------------------
# STATIC AND MEDIA
# ---------------------------------------------------------------------
STATIC_URL = "/static/"
STATIC_ROOT = "/mnt/data/omics/static"

STATICFILES_DIRS = [
    BASE_DIR / "frontend" / "dist",
]

MEDIA_ROOT = "/home/shaykins/Projects/omics/media"
MEDIA_URL = "/media/"

# ---------------------------------------------------------------------
# REST FRAMEWORK (JWT Cookie Authentication)
# ---------------------------------------------------------------------
REST_FRAMEWORK = {
    "DEFAULT_PERMISSION_CLASSES": [
        "rest_framework.permissions.IsAuthenticatedOrReadOnly",
    ],
    "DEFAULT_AUTHENTICATION_CLASSES": [
        "users.auth.CookieJWTAuthentication",
    ],
    "DEFAULT_RENDERER_CLASSES": [
        "rest_framework.renderers.JSONRenderer",
        "rest_framework.renderers.BrowsableAPIRenderer",
    ],
}

# ---------------------------------------------------------------------
# SIMPLE JWT
# ---------------------------------------------------------------------
SIMPLE_JWT = {
    "ACCESS_TOKEN_LIFETIME": timedelta(minutes=60),
    "REFRESH_TOKEN_LIFETIME": timedelta(days=7),
    "ROTATE_REFRESH_TOKENS": False,
    "BLACKLIST_AFTER_ROTATION": False,
    "AUTH_HEADER_TYPES": ("Bearer",),
    "ALGORITHM": "HS256",
}

# Auth cookie names
AUTH_COOKIE = "access_token"
AUTH_COOKIE_REFRESH = "refresh_token"

# Cookie flags
AUTH_COOKIE_SECURE = True
AUTH_COOKIE_HTTP_ONLY = True
AUTH_COOKIE_SAMESITE = "Lax"

CSRF_COOKIE_SECURE = True
SESSION_COOKIE_SECURE = True
CSRF_COOKIE_SAMESITE = "Lax"
SESSION_COOKIE_SAMESITE = "Lax"

# ---------------------------------------------------------------------
# SECURITY AND HEADERS
# ---------------------------------------------------------------------
SECURE_CONTENT_TYPE_NOSNIFF = True
SECURE_BROWSER_XSS_FILTER = True
X_FRAME_OPTIONS = "DENY"

# ---------------------------------------------------------------------
# PROXY AWARENESS (Cloudflare)
# ---------------------------------------------------------------------
SECURE_PROXY_SSL_HEADER = ("HTTP_X_FORWARDED_PROTO", "https")

CSRF_TRUSTED_ORIGINS = [
    "https://omics.reslab.dev",
    "https://www.omics.reslab.dev",
]

# ---------------------------------------------------------------------
# DEFAULT SETTINGS
# ---------------------------------------------------------------------


### FILE: omics/urls.py
-----------------------------------
# ===============================================================
# omics/urls.py
# Root URL routing for the ResLab Omics Platform (SPA + API)
# ===============================================================

from django.contrib import admin
from django.urls import path, include, re_path
from django.views.generic import TemplateView
from django.conf import settings
from django.conf.urls.static import static

from rest_framework_simplejwt.views import (
    TokenObtainPairView,
    TokenRefreshView,
)

# ===============================================================
# API ROUTES
# ===============================================================

urlpatterns = [
    path("admin/", admin.site.urls),
    # Core API (use the full API router)
    path("api/", include("api.urls")),

    # Extra or legacy API
    path("api/extra/", include("api.urls")),

    # Auth API
    path("api/auth/", include("users.urls")),

    # JWT (optional)
    path("api/auth/token/", TokenObtainPairView.as_view(), name="token_obtain_pair"),
    path("api/auth/token/refresh/", TokenRefreshView.as_view(), name="token_refresh"),
]

# ===============================================================
# SPA FRONTEND (React)
# ===============================================================

urlpatterns += [
    re_path(
        r"^(?!api/)(?:.*)/?$",
        TemplateView.as_view(template_name="index.html"),
        name="spa-entry",
    ),
]

# ===============================================================
# STATIC & MEDIA (DEBUG MODE ONLY)
# ===============================================================

if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
    urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)


### FILE: omics_core/models.py
-----------------------------------
from django.db import models
from django.utils import timezone
from django.conf import settings


# ---------------------------------------------------------------
# Controlled vocabularies
# ---------------------------------------------------------------
class Organism(models.Model):
    """Standardized organism reference with taxonomy integration."""

    KINGDOM_CHOICES = [
        ("Plant", "Plant"),
        ("Animal", "Animal"),
        ("Fungus", "Fungus"),
        ("Bacteria", "Bacteria"),
        ("Virus", "Virus"),
        ("Archaea", "Archaea"),
        ("Eukaryota", "Eukaryota"),
    ]

    scientific_name = models.CharField(max_length=200, unique=True)
    common_name = models.CharField(max_length=100, blank=True)
    kingdom = models.CharField(max_length=50, choices=KINGDOM_CHOICES)
    taxonomy_id = models.PositiveIntegerField(
        null=True,
        blank=True,
        help_text="NCBI taxonomy ID",
    )

    # Indexed lowercase field for very fast search
    search_name = models.CharField(
        max_length=200,
        default="",
        db_index=True,
        help_text="Lowercased scientific_name for fast indexed search",
    )

    def __str__(self):
        return f"{self.scientific_name} ({self.kingdom})"


class TissueType(models.Model):
    """Controlled vocabulary for anatomical or culture source."""

    KINGDOM_CHOICES = Organism.KINGDOM_CHOICES

    name = models.CharField(max_length=100)
    kingdom = models.CharField(max_length=50, choices=KINGDOM_CHOICES)
    ontology_id = models.CharField(
        max_length=50,
        blank=True,
        help_text="UBERON or PO term ID",
    )

    class Meta:
        unique_together = ("name", "kingdom")
        ordering = ["kingdom", "name"]

    def __str__(self):
        return f"{self.name} ({self.kingdom})"


# ---------------------------------------------------------------
# Core data models
# ---------------------------------------------------------------
class Project(models.Model):
    name = models.CharField(max_length=200, unique=True)
    description = models.TextField(blank=True)
    created_at = models.DateTimeField(default=timezone.now)

    # Soft delete fields
    is_active = models.BooleanField(default=True, db_index=True)
    deleted_at = models.DateTimeField(null=True, blank=True)

    def soft_delete(self):
        """Mark project as inactive without physically deleting rows."""
        if not self.is_active:
            return
        self.is_active = False
        self.deleted_at = timezone.now()
        self.save(update_fields=["is_active", "deleted_at"])

    def __str__(self):
        return self.name


class Sample(models.Model):
    """Biological sample metadata linked to controlled vocabularies."""

    DATA_TYPES = [
        ("DNA", "DNA-seq"),
        ("RNA", "RNA-seq"),
        ("META", "Metagenomics"),
        ("PROT", "Proteomics"),
        ("METAB", "Metabolomics"),
    ]

    project = models.ForeignKey(
        Project,
        on_delete=models.CASCADE,
        related_name="samples",
    )
    sample_id = models.CharField(max_length=100, unique=True)

    organism = models.ForeignKey(
        Organism,
        on_delete=models.PROTECT,
        related_name="samples",
        null=True,
        blank=True,
    )
    tissue_type = models.ForeignKey(
        TissueType,
        on_delete=models.PROTECT,
        related_name="samples",
        null=True,
        blank=True,
    )

    data_type = models.CharField(max_length=10, choices=DATA_TYPES)
    collected_on = models.DateField(null=True, blank=True)
    created_at = models.DateTimeField(default=timezone.now)

    # Soft delete fields
    is_active = models.BooleanField(default=True, db_index=True)
    deleted_at = models.DateTimeField(null=True, blank=True)

    def soft_delete(self):
        """Mark sample as inactive without dropping linked files or jobs."""
        if not self.is_active:
            return
        self.is_active = False
        self.deleted_at = timezone.now()
        self.save(update_fields=["is_active", "deleted_at"])

    def __str__(self):
        org = self.organism.scientific_name if self.organism else "Unspecified organism"
        return f"{self.sample_id} ({org})"


class OmicsFile(models.Model):
    """Uploaded omics data files linked to samples."""

    FILE_TYPES = [
        ("FASTQ", "FASTQ reads"),
        ("BAM", "Aligned reads"),
        ("VCF", "Variant calls"),
        ("GFF", "Genome annotation"),
        ("COUNTS", "Expression counts"),
        ("META", "Metadata table"),
        ("OTHER", "Other"),
    ]

    sample = models.ForeignKey(
        Sample,
        on_delete=models.CASCADE,
        related_name="files",
    )
    file_type = models.CharField(max_length=10, choices=FILE_TYPES)
    file = models.FileField(upload_to="uploads/%Y/%m/%d/")
    uploaded_at = models.DateTimeField(default=timezone.now)
    checksum = models.CharField(max_length=64, blank=True)
    size_bytes = models.BigIntegerField(default=0)

    def __str__(self):
        return f"{self.sample.sample_id} [{self.file_type}]"


# ---------------------------------------------------------------
# Job and Result Tracking
# ---------------------------------------------------------------
class OmicsJob(models.Model):
    """Tracks processing jobs such as FastQC, alignment, variant calling."""

    JOB_TYPES = [
        ("FASTQC", "Quality Control"),
        ("ALIGN", "Read Alignment"),
        ("VARCALL", "Variant Calling"),
        ("EXPR", "Expression Analysis"),
        ("ANNOT", "Annotation"),
        ("CUSTOM", "Custom Script"),
    ]

    STATUS_CHOICES = [
        ("pending", "Pending"),
        ("running", "Running"),
        ("completed", "Completed"),
        ("failed", "Failed"),
    ]

    sample = models.ForeignKey(
        Sample,
        on_delete=models.CASCADE,
        related_name="jobs",
    )
    job_type = models.CharField(max_length=50, choices=JOB_TYPES)
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default="pending")
    started_at = models.DateTimeField(null=True, blank=True)
    finished_at = models.DateTimeField(null=True, blank=True)


### FILE: omics_core/serializers.py
-----------------------------------
# ===============================================================
# omics_core/serializers.py
# Serializers for ResLab Omics Platform
# ===============================================================

from rest_framework import serializers
from .models import (
    Project,
    Sample,
    OmicsFile,
    Organism,
    TissueType,
    SampleDraft,
    OmicsJob,
    OmicsResult,
)

# ===============================================================
# Organism Serializer
# ===============================================================

class OrganismSerializer(serializers.ModelSerializer):
    """Public facing organism search serializer."""
    db_id = serializers.IntegerField(source="id", read_only=True)

    class Meta:
        model = Organism
        fields = ["db_id", "scientific_name", "common_name", "kingdom", "taxonomy_id"]


# ===============================================================
# Tissue Type Serializer
# ===============================================================

class TissueTypeSerializer(serializers.ModelSerializer):
    """Vocabulary for tissue types filtered by kingdom."""

    class Meta:
        model = TissueType
        fields = ["id", "name", "kingdom", "ontology_id"]


# ===============================================================
# Omics File Serializer
# ===============================================================

class OmicsFileSerializer(serializers.ModelSerializer):
    """Uploaded omics data files linked to samples."""

    class Meta:
        model = OmicsFile
        fields = [
            "id",
            "sample",
            "file_type",
            "file",
            "uploaded_at",
            "checksum",
            "size_bytes",
        ]


# ===============================================================
# Sample Serializer
# ===============================================================

class SampleSerializer(serializers.ModelSerializer):
    """
    Serializer for biological samples.
    Includes nested file records and readable organism or tissue names.
    """

    project = serializers.PrimaryKeyRelatedField(queryset=Project.objects.all())
    files = OmicsFileSerializer(many=True, read_only=True)

    organism = serializers.PrimaryKeyRelatedField(
        queryset=Organism.objects.all(),
        allow_null=True,
        required=False,
        pk_field=serializers.IntegerField(),
    )

    tissue_type = serializers.PrimaryKeyRelatedField(
        queryset=TissueType.objects.all(),
        allow_null=True,
        required=False,
        pk_field=serializers.IntegerField(),
    )

    organism_name = serializers.SerializerMethodField()
    tissue_type_name = serializers.SerializerMethodField()

    def get_organism_name(self, obj):
        if obj.organism:
            return obj.organism.scientific_name
        return None

    def get_tissue_type_name(self, obj):
        if obj.tissue_type:
            return obj.tissue_type.name
        return None

    class Meta:
        model = Sample
        fields = [
            "id",
            "project",
            "sample_id",
            "organism",
            "tissue_type",
            "organism_name",
            "tissue_type_name",
            "data_type",
            "collected_on",
            "created_at",
            "is_active",
            "deleted_at",
            "files",
        ]


# ===============================================================
# Sample Draft Serializer
# ===============================================================

class SampleDraftSerializer(serializers.ModelSerializer):
    """Temporary sample drafts stored before finalization."""

    project = serializers.PrimaryKeyRelatedField(queryset=Project.objects.all())

    organism = serializers.PrimaryKeyRelatedField(
        queryset=Organism.objects.all(),
        allow_null=True,
        required=False,
        pk_field=serializers.IntegerField(),
    )

    tissue_type = serializers.PrimaryKeyRelatedField(
        queryset=TissueType.objects.all(),
        allow_null=True,
        required=False,
        pk_field=serializers.IntegerField(),
    )

    organism_name = serializers.SerializerMethodField()
    tissue_type_name = serializers.SerializerMethodField()

    def get_organism_name(self, obj):
        return obj.organism.scientific_name if obj.organism else None

    def get_tissue_type_name(self, obj):
        return obj.tissue_type.name if obj.tissue_type else None

    class Meta:
        model = SampleDraft
        fields = [
            "id",
            "project",
            "organism",
            "tissue_type",
            "organism_name",
            "tissue_type_name",
            "created_at",
        ]


# ===============================================================
# Project Serializer
# ===============================================================

class ProjectSerializer(serializers.ModelSerializer):
    """Project serializer including nested sample information."""
    samples = SampleSerializer(many=True, read_only=True)

    class Meta:
        model = Project
        fields = [
            "id",
            "name",
            "description",
            "created_at",
            "is_active",
            "deleted_at",
            "samples",
        ]


# ===============================================================
# Omics Job Serializer
# ===============================================================

class OmicsJobSerializer(serializers.ModelSerializer):
    """Celery driven job serializer for FastQC and other jobs."""
    sample_id = serializers.ReadOnlyField(source="sample.sample_id")

    class Meta:
        model = OmicsJob
        fields = [
            "id",
            "sample",


### FILE: omics_core/views.py
-----------------------------------
# ===============================================================
# omics_core/views.py
# ResLab Omics Platform API Views
# ===============================================================

import os
import logging
from zipfile import ZipFile

from django.http import HttpResponse, FileResponse, Http404
from django.utils import timezone as dj_timezone
from django.db.models import Q

from rest_framework import viewsets
from rest_framework.decorators import action
from rest_framework.permissions import AllowAny, IsAuthenticated
from rest_framework.response import Response

from omics_core.models import (
    Project,
    Sample,
    OmicsFile,
    OmicsJob,
    OmicsResult,
    SampleDraft,
    Organism,
    TissueType,
)
from omics_core.serializers import (
    ProjectSerializer,
    SampleSerializer,
    OmicsFileSerializer,
    OmicsJobSerializer,
    OmicsResultSerializer,
    SampleDraftSerializer,
    OrganismSerializer,
    TissueTypeSerializer,
)
from omics_core.tasks.run_fastqc import run_fastqc

logger = logging.getLogger(__name__)


# ===============================================================
# PROJECT API
# ===============================================================
class ProjectViewSet(viewsets.ModelViewSet):
    """
    Full CRUD for projects with soft delete support.
    """

    serializer_class = ProjectSerializer
    permission_classes = [IsAuthenticated]

    def get_queryset(self):
        """
        Default listing returns only active projects.
        """
        return Project.objects.filter(is_active=True).order_by("-created_at")

    def destroy(self, request, *args, **kwargs):
        """
        Soft delete instead of physical delete.
        """
        project = self.get_object()
        project.soft_delete()
        return Response({"detail": "Project moved to trash."})

    @action(detail=False, methods=["get"], url_path="trash")
    def trash(self, request):
        """
        List soft deleted projects.
        """
        qs = Project.objects.filter(is_active=False).order_by("-deleted_at")
        serializer = self.get_serializer(qs, many=True)
        return Response(serializer.data)

    @action(detail=True, methods=["post"], url_path="restore")
    def restore(self, request, pk=None):
        """
        Restore a soft deleted project.
        """
        try:
            project = Project.objects.get(pk=pk, is_active=False)
        except Project.DoesNotExist:
            return Response(
                {"detail": "Project not found in trash."},
                status=404,
            )

        project.is_active = True
        project.deleted_at = None
        project.save(update_fields=["is_active", "deleted_at"])
        return Response({"detail": "Project restored."})


# ===============================================================
# ORGANISM API
# ===============================================================
class OrganismViewSet(viewsets.ReadOnlyModelViewSet):
    """
    Read only lookup for organisms.

    Open so the wizard can search organisms.
    """

    serializer_class = OrganismSerializer
    permission_classes = [AllowAny]

    def get_queryset(self):
        qs = Organism.objects.all()

        search = self.request.query_params.get("search", "").strip()
        kingdom = self.request.query_params.get("kingdom", "").strip()

        if kingdom:
            qs = qs.filter(kingdom__iexact=kingdom)

        if search:
            qs = qs.filter(
                Q(scientific_name__icontains=search)
                | Q(common_name__icontains=search)
            )

        return qs.order_by("scientific_name")[:100]


# ===============================================================
# TISSUE TYPE API
# ===============================================================
class TissueTypeViewSet(viewsets.ReadOnlyModelViewSet):
    """
    Read only lookup for tissue types.
    """

    serializer_class = TissueTypeSerializer
    permission_classes = [AllowAny]

    def get_queryset(self):
        qs = TissueType.objects.all()
        kingdom = self.request.query_params.get("kingdom", "").strip()

        if kingdom and hasattr(TissueType, "kingdom"):
            qs = qs.filter(kingdom__iexact=kingdom)

        return qs.order_by("name")


# ===============================================================
# SAMPLE API
# ===============================================================
class SampleViewSet(viewsets.ModelViewSet):
    """
    Full CRUD for samples with soft delete and FASTQC summary.

    Filters:
      - project : restrict list by project primary key.
    """

    serializer_class = SampleSerializer
    permission_classes = [AllowAny]

    def get_queryset(self):
        qs = (
            Sample.objects.select_related("project", "organism", "tissue_type")
            .filter(is_active=True)
        )

        project_id = self.request.query_params.get("project")
        if project_id:
            try:
                qs = qs.filter(project_id=int(project_id))
            except ValueError:
                pass

        return qs

    def destroy(self, request, *args, **kwargs):
        """
        Soft delete instead of physical delete.
        """
        sample = self.get_object()
        sample.soft_delete()
        return Response({"detail": "Sample moved to trash."})

    @action(detail=False, methods=["get"], url_path="trash")
    def trash(self, request):
        """
        List soft deleted samples.
        Optional filter:
          - project : restrict to samples from a given project.
        """
        qs = Sample.objects.select_related("project", "organism", "tissue_type").filter(
            is_active=False
        )

        project_id = self.request.query_params.get("project")
        if project_id:
            try:
                qs = qs.filter(project_id=int(project_id))


### FILE: omics_core/urls.py
-----------------------------------
# ===============================================================
# omics_core/urls.py
# ResLab Omics Platform API Routing
# ===============================================================

from django.urls import path, include
from django.shortcuts import get_object_or_404, render
from rest_framework.routers import DefaultRouter
from drf_yasg.views import get_schema_view
from drf_yasg import openapi
from rest_framework.permissions import AllowAny

from . import views
from .models import OmicsJob

# ===============================================================
# ROUTER SETUP FOR CRUD ENDPOINTS
# ===============================================================
router = DefaultRouter()
router.register(r"projects", views.ProjectViewSet, basename="project")
router.register(r"samples", views.SampleViewSet, basename="sample")
router.register(r"files", views.OmicsFileViewSet, basename="file")
router.register(r"sample-drafts", views.SampleDraftViewSet, basename="sample-draft")
router.register(r"jobs", views.OmicsJobViewSet, basename="omics-job")
router.register(r"results", views.OmicsResultViewSet, basename="omics-result")
router.register(r"organisms", views.OrganismViewSet, basename="organism")
router.register(r"tissues", views.TissueTypeViewSet, basename="tissue")

# ===============================================================
# OPENAPI / SWAGGER CONFIGURATION
# ===============================================================
schema_view = get_schema_view(
    openapi.Info(
        title="ResLab Omics Platform API",
        default_version="v1",
        description="Programmatic interface for projects, samples, organisms, tissues, jobs, and results.",
        terms_of_service="https://reslab.dev/terms/",
        contact=openapi.Contact(email="support@reslab.dev"),
        license=openapi.License(name="Apache 2.0"),
    ),
    public=True,
    permission_classes=(AllowAny,),
    url="https://omics.reslab.dev/api/",
)

# ===============================================================
# URL PATTERNS
# ===============================================================
urlpatterns = [
    # Main API routes
    path("", include(router.urls)),

    # API documentation
    path("docs/", schema_view.with_ui("swagger", cache_timeout=0), name="swagger-docs"),
    path("redoc/", schema_view.with_ui("redoc", cache_timeout=0), name="redoc-docs"),

    # Job detail HTML view
    path(
        "jobs/<int:job_id>/",
        lambda request, job_id: render(
            request,
            "omics_core/job_detail.html",
            {"job": get_object_or_404(OmicsJob, id=job_id)},
        ),
        name="job_detail",
    ),
]


### FILE: omics_core/forms.py
-----------------------------------
from django import forms
from .models import Sample


class SampleUploadForm(forms.ModelForm):
    """
    Form for uploading a new sample with metadata.
    """
    class Meta:
        model = Sample
        fields = [
            "project",
            "sample_id",
            "organism",
            "tissue_type",
            "data_type",
            "collected_on",
        ]
        widgets = {
            "project": forms.Select(attrs={"class": "form-control"}),
            "sample_id": forms.TextInput(attrs={"class": "form-control", "placeholder": "Unique sample ID"}),
            "organism": forms.TextInput(attrs={"class": "form-control", "placeholder": "e.g., Musa acuminata"}),
            "tissue_type": forms.TextInput(attrs={"class": "form-control", "placeholder": "Leaf, root, etc."}),
            "data_type": forms.Select(attrs={"class": "form-select"}),
            "collected_on": forms.DateInput(attrs={"class": "form-control", "type": "date"}),
        }


## FRONTEND FILES SNAPSHOT
### FILE: frontend/package.json
-----------------------------------
{
  "name": "frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^19.1.1",
    "react-dom": "^19.1.1",
    "react-router-dom": "^7.9.6"
  },
  "devDependencies": {
    "@eslint/js": "^9.36.0",
    "@types/react": "^19.1.16",
    "@types/react-dom": "^19.1.9",
    "@vitejs/plugin-react": "^5.0.4",
    "eslint": "^9.36.0",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-react-refresh": "^0.4.22",
    "globals": "^16.4.0",
    "vite": "^7.1.7"
  }
}


### FILE: frontend/vite.config.js
-----------------------------------
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})


### FILE: frontend/src/pages/Dashboard.jsx
-----------------------------------
/* =============================================================================
   Dashboard.jsx
   ResLab Omics Platform
   =============================================================================
   Responsibilities:
   - Fetch and list all projects
   - Fetch samples for a selected project
   - Display files attached to each sample
   - Create new projects
   - Edit and soft delete projects
   - Edit and soft delete samples
   - View and restore items from trash
   - Upload files to a sample (click or drag and drop)
   - Trigger and view FastQC jobs
   - Display QC summary and job history
   - Track job status per sample and auto poll while running
   - Persist QC status after refresh by hydrating from backend
   ============================================================================= */

import { useEffect, useMemo, useState } from "react";
import "../App.css";
import { useToast } from "../context/ToastContext";

const API_BASE = "/api";

function Dashboard() {
  const { showToast } = useToast();

  // Core state
  const [projects, setProjects] = useState([]);
  const [selectedProject, setSelectedProject] = useState(null);

  const [samples, setSamples] = useState([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState("");

  const [uploadingSampleId, setUploadingSampleId] = useState(null);
  const [dragOverSampleId, setDragOverSampleId] = useState(null);

  const [newProjectName, setNewProjectName] = useState("");
  const [newProjectDescription, setNewProjectDescription] = useState("");

  // FastQC state
  const [qcInfo, setQcInfo] = useState(null);
  const [qcLoading, setQcLoading] = useState(false);
  const [qcMap, setQcMap] = useState({});
  const [qcMetaMap, setQcMetaMap] = useState({});
  const [jobHistory, setJobHistory] = useState([]);
  const [jobHistoryLoading, setJobHistoryLoading] = useState(false);
  const [jobStatusMap, setJobStatusMap] = useState({}); // sampleId -> job_status

  // Soft delete trash state
  const [projectTrash, setProjectTrash] = useState([]);
  const [sampleTrash, setSampleTrash] = useState([]);
  const [trashLoading, setTrashLoading] = useState(false);
  const [trashError, setTrashError] = useState("");

  // Edit state
  const [editingProject, setEditingProject] = useState(null);
  const [editingSample, setEditingSample] = useState(null);
  const [editSaving, setEditSaving] = useState(false);

  // Vocab for sample edit
  const [organisms, setOrganisms] = useState([]);
  const [tissues, setTissues] = useState([]);
  const [vocabError, setVocabError] = useState("");

  // ---------------------------------------------------------------------------
  // Helper: derive overall QC status from FastQC JSON
  // ---------------------------------------------------------------------------

  const deriveOverallFromFastqc = (fastqcData) => {
    if (fastqcData.overall_status && fastqcData.overall_status !== "UNKNOWN") {
      return fastqcData.overall_status;
    }

    const summary = Array.isArray(fastqcData.summary)
      ? fastqcData.summary
      : [];

    if (summary.length === 0) {
      return null;
    }

    const hasFail = summary.some((row) => row.status === "FAIL");
    const hasWarn = summary.some((row) => row.status === "WARN");
    const hasPass = summary.some((row) => row.status === "PASS");

    if (hasFail) return "FAIL";
    if (hasWarn) return "WARN";
    if (hasPass) return "PASS";
    return null;
  };

  // ---------------------------------------------------------------------------
  // Initial loads
  // ---------------------------------------------------------------------------

  const fetchProjects = async () => {
    setLoading(true);
    setError("");

    try {
      const res = await fetch(`${API_BASE}/projects/`, {
        credentials: "include",
      });
      if (!res.ok) throw new Error(`HTTP ${res.status}`);
      const data = await res.json();
      setProjects(data);
    } catch (e) {
      setError("Failed to load projects.");
      console.error("PROJECT LOAD ERROR:", e);
    } finally {
      setLoading(false);
    }
  };

  const fetchSamples = async (projectId) => {
    if (!projectId) return;

    setLoading(true);
    setError("");

    try {
      const res = await fetch(`${API_BASE}/samples/?project=${projectId}`, {
        credentials: "include",
      });
      if (!res.ok) throw new Error(`HTTP ${res.status}`);

      const data = await res.json();
      const filtered = data.filter((s) => s.project === projectId);
      setSamples(filtered);

      await hydrateQcForSamples(filtered);
    } catch (e) {
      console.error("SAMPLE LOAD ERROR:", e);
      setError("Failed to load samples for this project.");
    } finally {
      setLoading(false);
    }
  };

  const hydrateQcForSamples = async (sampleList) => {
    if (!sampleList || sampleList.length === 0) {
      setQcMap({});
      setQcMetaMap({});
      setJobStatusMap({});
      return;
    }

    const newQcMap = {};
    const newMetaMap = {};
    const newJobStatusMap = {};

    for (const s of sampleList) {
      try {
        const fastqcUrl = `${API_BASE}/samples/${s.id}/fastqc/`;
        const res = await fetch(fastqcUrl, { credentials: "include" });

        if (res.status === 404) continue;
        if (!res.ok) {
          console.warn("FASTQC HYDRATE ERROR:", await res.text());
          continue;
        }

        const fastqcData = await res.json();
        const overall = deriveOverallFromFastqc(fastqcData);
        const generatedOn = fastqcData.generated_on || null;
        const jobStatus = fastqcData.job_status || null;

        if (overall) newQcMap[s.id] = overall;
        newMetaMap[s.id] = {
          overallStatus: overall,
          generatedOn,
        };
        if (jobStatus) newJobStatusMap[s.id] = jobStatus;
      } catch (err) {
        console.error("FASTQC HYDRATE EXCEPTION:", err);
      }
    }

    setQcMap(newQcMap);
    setQcMetaMap(newMetaMap);
    setJobStatusMap(newJobStatusMap);
  };

  const fetchTrash = async () => {
    setTrashLoading(true);
    setTrashError("");

    try {
      const [projRes, sampRes] = await Promise.all([
        fetch(`${API_BASE}/projects/trash/`, { credentials: "include" }),
        fetch(`${API_BASE}/samples/trash/`, { credentials: "include" }),
      ]);

      if (!projRes.ok) {
        console.warn("TRASH PROJECTS ERROR:", await projRes.text());
      } else {
        const projData = await projRes.json();


### FILE: frontend/src/pages/Wizard.jsx
-----------------------------------
/* =============================================================================
   Wizard.jsx
   ResLab Omics Platform
   =============================================================================
   Responsibilities:
   - High level wizard flow for:
       1. Creating a new project
       2. Adding a sample to an existing project
       3. (Placeholder) Analysis module
   - Coordinates SampleWizard component
   - Loads project list when required
   ============================================================================= */

import { useState, useEffect } from "react";
import SampleWizard from "../components/SampleWizard";
import { useToast } from "../context/ToastContext";
import "../App.css";

const API_BASE = "/api";

function Wizard() {
  /* ---------------------------------------------------------------------------
     STATE VARIABLES
     ---------------------------------------------------------------------------
     mode                 – wizard screen selector
     projects[]           – list of projects (only used in add-sample mode)
     selectedProject      – project id selected in dropdown
     loading              – shows when project list is being fetched
     error                – form / fetch feedback
     newProjectName       – bound to form input
     newProjectDescription– bound to form input
     creating             – locks create button to prevent double submit
     --------------------------------------------------------------------------- */
  const [mode, setMode] = useState("");
  const [projects, setProjects] = useState([]);
  const [selectedProject, setSelectedProject] = useState("");

  const [loading, setLoading] = useState(false);
  const [error, setError] = useState("");

  const [newProjectName, setNewProjectName] = useState("");
  const [newProjectDescription, setNewProjectDescription] = useState("");
  const [creating, setCreating] = useState(false);

  const { showToast } = useToast();

  /* ---------------------------------------------------------------------------
     MODE CONTROL
     ---------------------------------------------------------------------------
     handleSelect(m)  – move to selected mode
     handleBack()     – return to main menu and clear errors
     --------------------------------------------------------------------------- */
  const handleSelect = (m) => setMode(m);

  const handleBack = () => {
    setMode("");
    setError("");
    setSelectedProject("");
  };

  /* ---------------------------------------------------------------------------
     LOAD PROJECT LIST WHEN ENTERING "add-sample" MODE
     ---------------------------------------------------------------------------
     - Calls GET /api/projects/
     - Ensures we do not load all projects on initial page load
     - Runs only when mode transitions to "add-sample"
     --------------------------------------------------------------------------- */
  useEffect(() => {
    if (mode === "add-sample") {
      setLoading(true);
      setError("");

      fetch(`${API_BASE}/projects/`)
        .then((r) => (r.ok ? r.json() : []))
        .then((data) => setProjects(Array.isArray(data) ? data : []))
        .catch(() => setError("Failed to load projects."))
        .finally(() => setLoading(false));
    }
  }, [mode]);

  /* ---------------------------------------------------------------------------
     CREATE NEW PROJECT
     ---------------------------------------------------------------------------
     - Calls POST /api/projects/
     - Shows toast on success or failure
     - After success → moves user directly to sample creation screen
     --------------------------------------------------------------------------- */
  const handleCreateProject = async (e) => {
    e.preventDefault();

    if (!newProjectName.trim()) {
      setError("Project name is required.");
      return;
    }

    setCreating(true);
    setError("");

    try {
const res = await fetch(`${API_BASE}/projects/`, {
  method: "POST",
  credentials: "include",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    name: newProjectName,
    description: newProjectDescription,
  }),
});

      if (!res.ok) throw new Error("Create failed");

      const data = await res.json();

      showToast(`Project “${data.name}” created successfully`, "success");

      setNewProjectName("");
      setNewProjectDescription("");

      /* 
         Important: after creating a project, we jump user into "add-sample"
         mode so they can immediately register their first sample.
      */
      setTimeout(() => setMode("add-sample"), 3500);
    } catch {
      showToast("Failed to create project", "error");
    } finally {
      setCreating(false);
    }
  };

  /* =============================================================================
     MODE 1: ADD SAMPLE TO PROJECT
     ============================================================================= */
  if (mode === "add-sample") {
    return (
      <div className="layout">
        <main className="main">
          <div className="card">

            <button className="btn small" onClick={handleBack}>
              ← Back
            </button>

            <h2>Add Sample to Project</h2>

            {/* Loader and errors */}
            {loading ? (
              <p className="muted">Loading projects…</p>
            ) : error ? (
              <div className="alert error">{error}</div>
            ) : (
              <>
                <label>Select a project</label>
                <select
                  value={selectedProject}
                  onChange={(e) => setSelectedProject(e.target.value)}
                >
                  <option value="">-- choose project --</option>
                  {projects.map((p) => (
                    <option key={p.id} value={p.id}>
                      {p.name} {p.description ? `(${p.description})` : ""}
                    </option>
                  ))}
                </select>
              </>
            )}

            {/* Show SampleWizard once user chooses a project */}
            {selectedProject && (
              <div className="mt-4">
                <SampleWizard
                  projectId={selectedProject}
                  onComplete={() =>
                    showToast("Sample added successfully", "success")
                  }
                />
              </div>
            )}
          </div>
        </main>
      </div>
    );
  }

  /* =============================================================================
     MODE 2: CREATE A NEW PROJECT
     ============================================================================= */
  if (mode === "create-project") {
    return (
      <div className="layout">
        <main className="main">
          <div className="card">
            <button className="btn small" onClick={handleBack}>
              ← Back
            </button>

            <h2>Create New Project</h2>

            {error && <div className="alert error">{error}</div>}



### FILE: frontend/src/pages/Home.jsx
-----------------------------------
// src/pages/Home.jsx
import HeroSection from "../components/HeroSection";
import Footer from "../components/Footer";
import "../App.css";

function Home() {
  return (
    <div className="landing-page">
      <HeroSection />

      {/* About Section */}
      <section id="about-section" className="about-section fade-in">
        <div className="about-content">
          <h2>About the Platform</h2>

          <p>
            The ResLab Omics Platform integrates multiple bioinformatics workflows into
            a single streamlined environment. It supports scientists working in agriculture,
            biotechnology, and environmental genomics.
          </p>

          <p>
            Built for interoperability with SmartField Dashboard and LIMS-GT, the platform
            ensures seamless flow of data from field experiments to molecular analysis.
          </p>

          <ul>
            <li>Genomics, transcriptomics, and proteomics support</li>
            <li>Automated pipelines with progress tracking</li>
            <li>Interactive visualization tools</li>
            <li>Secure multi-user access</li>
          </ul>
        </div>
      </section>

      {/* Data to Discovery */}
      <section className="preview-section fade-in">
        <h2>Data to Discovery</h2>
        <p>
          Move from raw FASTQ reads to biological interpretation with interactive visual
          tools, full experiment tracking, and exportable structured reports.
        </p>
      </section>

      <Footer />
    </div>
  );
}

export default Home;


### FILE: frontend/src/main.jsx
-----------------------------------
// src/main.jsx
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import "./App.css";
//import "./styles/theme_modern.css";
// To try others later:
// import "./styles/theme_classic.css";
// import "./styles/theme_minimal.css";
import { ToastProvider } from "./context/ToastContext";
import { AuthProvider } from "./context/AuthContext";

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <AuthProvider>
      <ToastProvider>
        <App />
      </ToastProvider>
    </AuthProvider>
  </React.StrictMode>
);


## DJANGO REST API ENDPOINTS
/<var>/	django.views.generic.base.TemplateView	spa-entry
/admin/	django.contrib.admin.sites.index	admin:index
/admin/<app_label>/	django.contrib.admin.sites.app_index	admin:app_list
/admin/<url>	django.contrib.admin.sites.catch_all_view
/admin/auth/group/	django.contrib.admin.options.changelist_view	admin:auth_group_changelist
/admin/auth/group/<path:object_id>/	django.views.generic.base.RedirectView
/admin/auth/group/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:auth_group_change
/admin/auth/group/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:auth_group_delete
/admin/auth/group/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:auth_group_history
/admin/auth/group/add/	django.contrib.admin.options.add_view	admin:auth_group_add
/admin/auth/user/	django.contrib.admin.options.changelist_view	admin:auth_user_changelist
/admin/auth/user/<id>/password/	django.contrib.auth.admin.user_change_password	admin:auth_user_password_change
/admin/auth/user/<path:object_id>/	django.views.generic.base.RedirectView
/admin/auth/user/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:auth_user_change
/admin/auth/user/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:auth_user_delete
/admin/auth/user/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:auth_user_history
/admin/auth/user/add/	django.contrib.auth.admin.add_view	admin:auth_user_add
/admin/autocomplete/	django.contrib.admin.sites.autocomplete_view	admin:autocomplete
/admin/django_celery_beat/clockedschedule/	django.contrib.admin.options.changelist_view	admin:django_celery_beat_clockedschedule_changelist
/admin/django_celery_beat/clockedschedule/<path:object_id>/	django.views.generic.base.RedirectView
/admin/django_celery_beat/clockedschedule/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:django_celery_beat_clockedschedule_change
/admin/django_celery_beat/clockedschedule/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:django_celery_beat_clockedschedule_delete
/admin/django_celery_beat/clockedschedule/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:django_celery_beat_clockedschedule_history
/admin/django_celery_beat/clockedschedule/add/	django.contrib.admin.options.add_view	admin:django_celery_beat_clockedschedule_add
/admin/django_celery_beat/crontabschedule/	django.contrib.admin.options.changelist_view	admin:django_celery_beat_crontabschedule_changelist
/admin/django_celery_beat/crontabschedule/<path:object_id>/	django.views.generic.base.RedirectView
/admin/django_celery_beat/crontabschedule/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:django_celery_beat_crontabschedule_change
/admin/django_celery_beat/crontabschedule/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:django_celery_beat_crontabschedule_delete
/admin/django_celery_beat/crontabschedule/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:django_celery_beat_crontabschedule_history
/admin/django_celery_beat/crontabschedule/add/	django.contrib.admin.options.add_view	admin:django_celery_beat_crontabschedule_add
/admin/django_celery_beat/intervalschedule/	django.contrib.admin.options.changelist_view	admin:django_celery_beat_intervalschedule_changelist
/admin/django_celery_beat/intervalschedule/<path:object_id>/	django.views.generic.base.RedirectView
/admin/django_celery_beat/intervalschedule/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:django_celery_beat_intervalschedule_change
/admin/django_celery_beat/intervalschedule/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:django_celery_beat_intervalschedule_delete
/admin/django_celery_beat/intervalschedule/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:django_celery_beat_intervalschedule_history
/admin/django_celery_beat/intervalschedule/add/	django.contrib.admin.options.add_view	admin:django_celery_beat_intervalschedule_add
/admin/django_celery_beat/periodictask/	django_celery_beat.admin.changelist_view	admin:django_celery_beat_periodictask_changelist
/admin/django_celery_beat/periodictask/<path:object_id>/	django.views.generic.base.RedirectView
/admin/django_celery_beat/periodictask/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:django_celery_beat_periodictask_change
/admin/django_celery_beat/periodictask/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:django_celery_beat_periodictask_delete
/admin/django_celery_beat/periodictask/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:django_celery_beat_periodictask_history
/admin/django_celery_beat/periodictask/add/	django.contrib.admin.options.add_view	admin:django_celery_beat_periodictask_add
/admin/django_celery_beat/solarschedule/	django.contrib.admin.options.changelist_view	admin:django_celery_beat_solarschedule_changelist
/admin/django_celery_beat/solarschedule/<path:object_id>/	django.views.generic.base.RedirectView
/admin/django_celery_beat/solarschedule/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:django_celery_beat_solarschedule_change
/admin/django_celery_beat/solarschedule/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:django_celery_beat_solarschedule_delete
/admin/django_celery_beat/solarschedule/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:django_celery_beat_solarschedule_history
/admin/django_celery_beat/solarschedule/add/	django.contrib.admin.options.add_view	admin:django_celery_beat_solarschedule_add
/admin/jsi18n/	django.contrib.admin.sites.i18n_javascript	admin:jsi18n
/admin/login/	django.contrib.admin.sites.login	admin:login
/admin/logout/	django.contrib.admin.sites.logout	admin:logout
/admin/omics_core/omicsfile/	django.contrib.admin.options.changelist_view	admin:omics_core_omicsfile_changelist
/admin/omics_core/omicsfile/<path:object_id>/	django.views.generic.base.RedirectView
/admin/omics_core/omicsfile/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:omics_core_omicsfile_change
/admin/omics_core/omicsfile/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:omics_core_omicsfile_delete
/admin/omics_core/omicsfile/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:omics_core_omicsfile_history
/admin/omics_core/omicsfile/add/	django.contrib.admin.options.add_view	admin:omics_core_omicsfile_add
/admin/omics_core/project/	django.contrib.admin.options.changelist_view	admin:omics_core_project_changelist
/admin/omics_core/project/<path:object_id>/	django.views.generic.base.RedirectView
/admin/omics_core/project/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:omics_core_project_change
/admin/omics_core/project/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:omics_core_project_delete
/admin/omics_core/project/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:omics_core_project_history
/admin/omics_core/project/add/	django.contrib.admin.options.add_view	admin:omics_core_project_add
/admin/omics_core/sample/	django.contrib.admin.options.changelist_view	admin:omics_core_sample_changelist
/admin/omics_core/sample/<path:object_id>/	django.views.generic.base.RedirectView
/admin/omics_core/sample/<path:object_id>/change/	django.contrib.admin.options.change_view	admin:omics_core_sample_change
/admin/omics_core/sample/<path:object_id>/delete/	django.contrib.admin.options.delete_view	admin:omics_core_sample_delete
/admin/omics_core/sample/<path:object_id>/history/	django.contrib.admin.options.history_view	admin:omics_core_sample_history
/admin/omics_core/sample/add/	django.contrib.admin.options.add_view	admin:omics_core_sample_add
/admin/password_change/	django.contrib.admin.sites.password_change	admin:password_change
/admin/password_change/done/	django.contrib.admin.sites.password_change_done	admin:password_change_done
/admin/r/<path:content_type_id>/<path:object_id>/	django.contrib.contenttypes.views.shortcut	admin:view_on_site
/api/	rest_framework.routers.APIRootView	api-root
/api/<drf_format_suffix:format>	rest_framework.routers.APIRootView	api-root
/api/auth/login/	users.views.LoginView	auth-login
/api/auth/logout/	users.views.LogoutView	auth-logout
/api/auth/me/	users.views.MeView	auth-me
/api/auth/refresh-cookie/	users.views.CookieTokenRefreshView	auth-refresh-cookie
/api/auth/token/	rest_framework_simplejwt.views.TokenObtainPairView	token_obtain_pair
/api/auth/token/refresh/	rest_framework_simplejwt.views.TokenRefreshView	token_refresh
/api/docs/	drf_yasg.views.SchemaView	schema-swagger-ui
/api/extra/	rest_framework.routers.APIRootView	api-root
/api/extra/<drf_format_suffix:format>	rest_framework.routers.APIRootView	api-root
/api/extra/docs/	drf_yasg.views.SchemaView	schema-swagger-ui
/api/extra/files/	omics_core.views.OmicsFileViewSet	file-list
/api/extra/files/<pk>/	omics_core.views.OmicsFileViewSet	file-detail
/api/extra/files/<pk>\.<format>/	omics_core.views.OmicsFileViewSet	file-detail
/api/extra/files\.<format>/	omics_core.views.OmicsFileViewSet	file-list
/api/extra/jobs/	omics_core.views.OmicsJobViewSet	omics-job-list
/api/extra/jobs/<pk>/	omics_core.views.OmicsJobViewSet	omics-job-detail
/api/extra/jobs/<pk>/stream/	omics_core.views.OmicsJobViewSet	omics-job-stream-log
/api/extra/jobs/<pk>/stream\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-stream-log
/api/extra/jobs/<pk>/trigger_fastqc/	omics_core.views.OmicsJobViewSet	omics-job-trigger-fastqc
/api/extra/jobs/<pk>/trigger_fastqc\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-trigger-fastqc
/api/extra/jobs/<pk>\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-detail
/api/extra/jobs\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-list
/api/extra/organisms/	omics_core.views.OrganismViewSet	organism-list
/api/extra/organisms/<pk>/	omics_core.views.OrganismViewSet	organism-detail
/api/extra/organisms/<pk>\.<format>/	omics_core.views.OrganismViewSet	organism-detail
/api/extra/organisms\.<format>/	omics_core.views.OrganismViewSet	organism-list
/api/extra/projects/	omics_core.views.ProjectViewSet	project-list
/api/extra/projects/<pk>/	omics_core.views.ProjectViewSet	project-detail
/api/extra/projects/<pk>/restore/	omics_core.views.ProjectViewSet	project-restore
/api/extra/projects/<pk>/restore\.<format>/	omics_core.views.ProjectViewSet	project-restore
/api/extra/projects/<pk>\.<format>/	omics_core.views.ProjectViewSet	project-detail
/api/extra/projects/trash/	omics_core.views.ProjectViewSet	project-trash
/api/extra/projects/trash\.<format>/	omics_core.views.ProjectViewSet	project-trash
/api/extra/projects\.<format>/	omics_core.views.ProjectViewSet	project-list
/api/extra/redoc/	drf_yasg.views.SchemaView	schema-redoc
/api/extra/results/	omics_core.views.OmicsResultViewSet	omics-result-list
/api/extra/results/<pk>/	omics_core.views.OmicsResultViewSet	omics-result-detail
/api/extra/results/<pk>/download-zip/	omics_core.views.OmicsResultViewSet	omics-result-download-zip
/api/extra/results/<pk>/download-zip\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-download-zip
/api/extra/results/<pk>/html/	omics_core.views.OmicsResultViewSet	omics-result-serve-html
/api/extra/results/<pk>/html\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-serve-html
/api/extra/results/<pk>\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-detail
/api/extra/results\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-list
/api/extra/sample-drafts/	omics_core.views.SampleDraftViewSet	sample-draft-list
/api/extra/sample-drafts/<pk>/	omics_core.views.SampleDraftViewSet	sample-draft-detail
/api/extra/sample-drafts/<pk>\.<format>/	omics_core.views.SampleDraftViewSet	sample-draft-detail
/api/extra/sample-drafts\.<format>/	omics_core.views.SampleDraftViewSet	sample-draft-list
/api/extra/samples/	omics_core.views.SampleViewSet	sample-list
/api/extra/samples/<pk>/	omics_core.views.SampleViewSet	sample-detail
/api/extra/samples/<pk>/fastqc/	omics_core.views.SampleViewSet	sample-latest-fastqc
/api/extra/samples/<pk>/fastqc\.<format>/	omics_core.views.SampleViewSet	sample-latest-fastqc
/api/extra/samples/<pk>/jobs/	omics_core.views.SampleViewSet	sample-job-history
/api/extra/samples/<pk>/jobs/latest/	omics_core.views.SampleViewSet	sample-latest-job
/api/extra/samples/<pk>/jobs/latest\.<format>/	omics_core.views.SampleViewSet	sample-latest-job
/api/extra/samples/<pk>/jobs\.<format>/	omics_core.views.SampleViewSet	sample-job-history
/api/extra/samples/<pk>/restore/	omics_core.views.SampleViewSet	sample-restore
/api/extra/samples/<pk>/restore\.<format>/	omics_core.views.SampleViewSet	sample-restore
/api/extra/samples/<pk>\.<format>/	omics_core.views.SampleViewSet	sample-detail
/api/extra/samples/trash/	omics_core.views.SampleViewSet	sample-trash
/api/extra/samples/trash\.<format>/	omics_core.views.SampleViewSet	sample-trash
/api/extra/samples\.<format>/	omics_core.views.SampleViewSet	sample-list
/api/extra/schema/	drf_yasg.views.SchemaView	schema-json
/api/extra/tissues/	omics_core.views.TissueTypeViewSet	tissue-list
/api/extra/tissues/<pk>/	omics_core.views.TissueTypeViewSet	tissue-detail
/api/extra/tissues/<pk>\.<format>/	omics_core.views.TissueTypeViewSet	tissue-detail
/api/extra/tissues\.<format>/	omics_core.views.TissueTypeViewSet	tissue-list
/api/files/	omics_core.views.OmicsFileViewSet	file-list
/api/files/<pk>/	omics_core.views.OmicsFileViewSet	file-detail
/api/files/<pk>\.<format>/	omics_core.views.OmicsFileViewSet	file-detail
/api/files\.<format>/	omics_core.views.OmicsFileViewSet	file-list
/api/jobs/	omics_core.views.OmicsJobViewSet	omics-job-list
/api/jobs/<pk>/	omics_core.views.OmicsJobViewSet	omics-job-detail
/api/jobs/<pk>/stream/	omics_core.views.OmicsJobViewSet	omics-job-stream-log
/api/jobs/<pk>/stream\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-stream-log
/api/jobs/<pk>/trigger_fastqc/	omics_core.views.OmicsJobViewSet	omics-job-trigger-fastqc
/api/jobs/<pk>/trigger_fastqc\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-trigger-fastqc
/api/jobs/<pk>\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-detail
/api/jobs\.<format>/	omics_core.views.OmicsJobViewSet	omics-job-list
/api/organisms/	omics_core.views.OrganismViewSet	organism-list
/api/organisms/<pk>/	omics_core.views.OrganismViewSet	organism-detail
/api/organisms/<pk>\.<format>/	omics_core.views.OrganismViewSet	organism-detail
/api/organisms\.<format>/	omics_core.views.OrganismViewSet	organism-list
/api/projects/	omics_core.views.ProjectViewSet	project-list
/api/projects/<pk>/	omics_core.views.ProjectViewSet	project-detail
/api/projects/<pk>/restore/	omics_core.views.ProjectViewSet	project-restore
/api/projects/<pk>/restore\.<format>/	omics_core.views.ProjectViewSet	project-restore
/api/projects/<pk>\.<format>/	omics_core.views.ProjectViewSet	project-detail
/api/projects/trash/	omics_core.views.ProjectViewSet	project-trash
/api/projects/trash\.<format>/	omics_core.views.ProjectViewSet	project-trash
/api/projects\.<format>/	omics_core.views.ProjectViewSet	project-list
/api/redoc/	drf_yasg.views.SchemaView	schema-redoc
/api/results/	omics_core.views.OmicsResultViewSet	omics-result-list
/api/results/<pk>/	omics_core.views.OmicsResultViewSet	omics-result-detail
/api/results/<pk>/download-zip/	omics_core.views.OmicsResultViewSet	omics-result-download-zip
/api/results/<pk>/download-zip\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-download-zip
/api/results/<pk>/html/	omics_core.views.OmicsResultViewSet	omics-result-serve-html
/api/results/<pk>/html\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-serve-html
/api/results/<pk>\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-detail
/api/results\.<format>/	omics_core.views.OmicsResultViewSet	omics-result-list
/api/sample-drafts/	omics_core.views.SampleDraftViewSet	sample-draft-list
/api/sample-drafts/<pk>/	omics_core.views.SampleDraftViewSet	sample-draft-detail
/api/sample-drafts/<pk>\.<format>/	omics_core.views.SampleDraftViewSet	sample-draft-detail
/api/sample-drafts\.<format>/	omics_core.views.SampleDraftViewSet	sample-draft-list
/api/samples/	omics_core.views.SampleViewSet	sample-list
/api/samples/<pk>/	omics_core.views.SampleViewSet	sample-detail
/api/samples/<pk>/fastqc/	omics_core.views.SampleViewSet	sample-latest-fastqc
/api/samples/<pk>/fastqc\.<format>/	omics_core.views.SampleViewSet	sample-latest-fastqc
/api/samples/<pk>/jobs/	omics_core.views.SampleViewSet	sample-job-history
/api/samples/<pk>/jobs/latest/	omics_core.views.SampleViewSet	sample-latest-job
/api/samples/<pk>/jobs/latest\.<format>/	omics_core.views.SampleViewSet	sample-latest-job
/api/samples/<pk>/jobs\.<format>/	omics_core.views.SampleViewSet	sample-job-history
/api/samples/<pk>/restore/	omics_core.views.SampleViewSet	sample-restore
/api/samples/<pk>/restore\.<format>/	omics_core.views.SampleViewSet	sample-restore
/api/samples/<pk>\.<format>/	omics_core.views.SampleViewSet	sample-detail
/api/samples/trash/	omics_core.views.SampleViewSet	sample-trash
/api/samples/trash\.<format>/	omics_core.views.SampleViewSet	sample-trash
/api/samples\.<format>/	omics_core.views.SampleViewSet	sample-list
/api/schema/	drf_yasg.views.SchemaView	schema-json
/api/tissues/	omics_core.views.TissueTypeViewSet	tissue-list
/api/tissues/<pk>/	omics_core.views.TissueTypeViewSet	tissue-detail
/api/tissues/<pk>\.<format>/	omics_core.views.TissueTypeViewSet	tissue-detail
/api/tissues\.<format>/	omics_core.views.TissueTypeViewSet	tissue-list
/media/<path>	django.views.static.serve
/static/<path>	django.views.static.serve

## CELERY DIAGNOSTICS
Celery Workers:

Active Tasks:

Scheduled Tasks:

## DATABASE SCHEMA (inspectdb)
# This is an auto-generated Django model module.
# You'll have to do the following manually to clean this up:
#   * Rearrange models' order
#   * Make sure each model has one field with primary_key=True
#   * Make sure each ForeignKey and OneToOneField has `on_delete` set to the desired behavior
#   * Remove `managed = False` lines if you wish to allow Django to create, modify, and delete the table
# Feel free to rename the models, but don't rename db_table values or field names.
from django.db import models


class AuthGroup(models.Model):
    name = models.CharField(unique=True, max_length=150)

    class Meta:
        managed = False
        db_table = 'auth_group'


class AuthGroupPermissions(models.Model):
    group = models.ForeignKey(AuthGroup, models.DO_NOTHING)
    permission = models.ForeignKey('AuthPermission', models.DO_NOTHING)

    class Meta:
        managed = False
        db_table = 'auth_group_permissions'
        unique_together = (('group', 'permission'),)


class AuthPermission(models.Model):
    content_type = models.ForeignKey('DjangoContentType', models.DO_NOTHING)
    codename = models.CharField(max_length=100)
    name = models.CharField(max_length=255)

    class Meta:
        managed = False
        db_table = 'auth_permission'
        unique_together = (('content_type', 'codename'),)


class AuthUser(models.Model):
    password = models.CharField(max_length=128)
    last_login = models.DateTimeField(blank=True, null=True)
    is_superuser = models.BooleanField()
    username = models.CharField(unique=True, max_length=150)
    last_name = models.CharField(max_length=150)
    email = models.CharField(max_length=254)
    is_staff = models.BooleanField()
    is_active = models.BooleanField()
    date_joined = models.DateTimeField()
    first_name = models.CharField(max_length=150)

    class Meta:
        managed = False
        db_table = 'auth_user'


class AuthUserGroups(models.Model):
    user = models.ForeignKey(AuthUser, models.DO_NOTHING)
    group = models.ForeignKey(AuthGroup, models.DO_NOTHING)

    class Meta:
        managed = False
        db_table = 'auth_user_groups'
        unique_together = (('user', 'group'),)


class AuthUserUserPermissions(models.Model):
    user = models.ForeignKey(AuthUser, models.DO_NOTHING)
    permission = models.ForeignKey(AuthPermission, models.DO_NOTHING)

    class Meta:
        managed = False
        db_table = 'auth_user_user_permissions'
        unique_together = (('user', 'permission'),)


class DjangoAdminLog(models.Model):
    object_id = models.TextField(blank=True, null=True)
    object_repr = models.CharField(max_length=200)
    action_flag = models.PositiveSmallIntegerField()
    change_message = models.TextField()
    content_type = models.ForeignKey('DjangoContentType', models.DO_NOTHING, blank=True, null=True)
    user = models.ForeignKey(AuthUser, models.DO_NOTHING)
    action_time = models.DateTimeField()

    class Meta:
        managed = False
        db_table = 'django_admin_log'


class DjangoCeleryBeatClockedschedule(models.Model):
    clocked_time = models.DateTimeField()

    class Meta:
        managed = False
        db_table = 'django_celery_beat_clockedschedule'


class DjangoCeleryBeatCrontabschedule(models.Model):
    minute = models.CharField(max_length=240)
    hour = models.CharField(max_length=96)
    day_of_week = models.CharField(max_length=64)
    day_of_month = models.CharField(max_length=124)
    month_of_year = models.CharField(max_length=64)
    timezone = models.CharField(max_length=63)

    class Meta:
        managed = False
        db_table = 'django_celery_beat_crontabschedule'


class DjangoCeleryBeatIntervalschedule(models.Model):
    every = models.IntegerField()
    period = models.CharField(max_length=24)

    class Meta:
        managed = False
        db_table = 'django_celery_beat_intervalschedule'


class DjangoCeleryBeatPeriodictask(models.Model):
    name = models.CharField(unique=True, max_length=200)
    task = models.CharField(max_length=200)
    args = models.TextField()
    kwargs = models.TextField()
    queue = models.CharField(max_length=200, blank=True, null=True)
    exchange = models.CharField(max_length=200, blank=True, null=True)
    routing_key = models.CharField(max_length=200, blank=True, null=True)
    expires = models.DateTimeField(blank=True, null=True)
    enabled = models.BooleanField()
    last_run_at = models.DateTimeField(blank=True, null=True)
    total_run_count = models.PositiveIntegerField()
    date_changed = models.DateTimeField()
    description = models.TextField()
    crontab = models.ForeignKey(DjangoCeleryBeatCrontabschedule, models.DO_NOTHING, blank=True, null=True)
    interval = models.ForeignKey(DjangoCeleryBeatIntervalschedule, models.DO_NOTHING, blank=True, null=True)
    solar = models.ForeignKey('DjangoCeleryBeatSolarschedule', models.DO_NOTHING, blank=True, null=True)
    one_off = models.BooleanField()
    start_time = models.DateTimeField(blank=True, null=True)
    priority = models.PositiveIntegerField(blank=True, null=True)
    headers = models.TextField()
    clocked = models.ForeignKey(DjangoCeleryBeatClockedschedule, models.DO_NOTHING, blank=True, null=True)
    expire_seconds = models.PositiveIntegerField(blank=True, null=True)

    class Meta:
        managed = False
        db_table = 'django_celery_beat_periodictask'


class DjangoCeleryBeatPeriodictasks(models.Model):
    ident = models.AutoField(primary_key=True)
    last_update = models.DateTimeField()

    class Meta:
        managed = False
        db_table = 'django_celery_beat_periodictasks'


class DjangoCeleryBeatSolarschedule(models.Model):
    event = models.CharField(max_length=24)
    latitude = models.DecimalField(max_digits=10, decimal_places=5)  # max_digits and decimal_places have been guessed, as this database handles decimal fields as float
    longitude = models.DecimalField(max_digits=10, decimal_places=5)  # max_digits and decimal_places have been guessed, as this database handles decimal fields as float

    class Meta:
        managed = False
        db_table = 'django_celery_beat_solarschedule'
        unique_together = (('event', 'latitude', 'longitude'),)


class DjangoContentType(models.Model):
    app_label = models.CharField(max_length=100)
    model = models.CharField(max_length=100)

    class Meta:
        managed = False
        db_table = 'django_content_type'
        unique_together = (('app_label', 'model'),)


class DjangoMigrations(models.Model):
    app = models.CharField(max_length=255)
    name = models.CharField(max_length=255)
    applied = models.DateTimeField()

    class Meta:
        managed = False
        db_table = 'django_migrations'


class DjangoSession(models.Model):
    session_key = models.CharField(primary_key=True, max_length=40)
    session_data = models.TextField()
    expire_date = models.DateTimeField()

    class Meta:
        managed = False
        db_table = 'django_session'


class OmicsCoreOmicsfile(models.Model):
    file_type = models.CharField(max_length=10)
    file = models.CharField(max_length=100)
    uploaded_at = models.DateTimeField()
    checksum = models.CharField(max_length=64)
    size_bytes = models.BigIntegerField()
    sample = models.ForeignKey('OmicsCoreSample', models.DO_NOTHING)

    class Meta:
        managed = False
        db_table = 'omics_core_omicsfile'


class OmicsCoreOmicsjob(models.Model):
    job_type = models.CharField(max_length=50)
    status = models.CharField(max_length=20)
    started_at = models.DateTimeField(blank=True, null=True)
    finished_at = models.DateTimeField(blank=True, null=True)
    log = models.TextField()
    output_path = models.CharField(max_length=255)
    sample = models.ForeignKey('OmicsCoreSample', models.DO_NOTHING)
    metadata = models.JSONField(blank=True, null=True)

    class Meta:
        managed = False
        db_table = 'omics_core_omicsjob'


class OmicsCoreOmicsresult(models.Model):
    result_type = models.CharField(max_length=50)
    file = models.CharField(max_length=100)
    summary_json = models.JSONField()
    created_at = models.DateTimeField()
    sample = models.ForeignKey('OmicsCoreSample', models.DO_NOTHING)

    class Meta:
        managed = False
        db_table = 'omics_core_omicsresult'


class OmicsCoreOrganism(models.Model):
    scientific_name = models.CharField(unique=True, max_length=200)
    common_name = models.CharField(max_length=100)
    kingdom = models.CharField(max_length=50)
    taxonomy_id = models.PositiveIntegerField(blank=True, null=True)
    search_name = models.CharField(max_length=200)

    class Meta:
        managed = False
        db_table = 'omics_core_organism'


class OmicsCoreOrganismBackup(models.Model):
    scientific_name = models.CharField(unique=True, max_length=200)
    common_name = models.CharField(max_length=100)
    kingdom = models.CharField(max_length=50)
    taxonomy_id = models.PositiveIntegerField(blank=True, null=True)

    class Meta:
        managed = False
        db_table = 'omics_core_organism_backup'


class OmicsCoreProject(models.Model):
    name = models.CharField(unique=True, max_length=200)
    description = models.TextField()
    created_at = models.DateTimeField()
    deleted_at = models.DateTimeField(blank=True, null=True)
    is_active = models.BooleanField()

    class Meta:
        managed = False
        db_table = 'omics_core_project'


class OmicsCoreSample(models.Model):
    sample_id = models.CharField(unique=True, max_length=100)
    data_type = models.CharField(max_length=10)
    collected_on = models.DateField(blank=True, null=True)
    created_at = models.DateTimeField()
    organism = models.ForeignKey(OmicsCoreOrganism, models.DO_NOTHING, blank=True, null=True)
    project = models.ForeignKey(OmicsCoreProject, models.DO_NOTHING)
    tissue_type = models.ForeignKey('OmicsCoreTissuetype', models.DO_NOTHING, blank=True, null=True)
    deleted_at = models.DateTimeField(blank=True, null=True)
    is_active = models.BooleanField()

    class Meta:
        managed = False
        db_table = 'omics_core_sample'


class OmicsCoreSampledraft(models.Model):
    step = models.PositiveSmallIntegerField()
    data = models.JSONField()
    created_at = models.DateTimeField()
    updated_at = models.DateTimeField()
    project = models.ForeignKey(OmicsCoreProject, models.DO_NOTHING)
    user = models.ForeignKey(AuthUser, models.DO_NOTHING, blank=True, null=True)

    class Meta:
        managed = False

## UPLOADS AND MEDIA SUMMARY
Uploads:

Media:

## DOCKER STATUS
CONTAINER ID   IMAGE                      COMMAND                  CREATED        STATUS                      PORTS                                         NAMES
482869dff2af   odk/phpldapadmin:latest    "/container/tool/run"    7 hours ago    Up 7 hours                  80/tcp, 443/tcp                               syncldap_phpldapadmin.1.7cd60iruvm7wjmtv2s91y1va7
df853aa972e9   odk/openldap:latest        "/container/tool/run"    7 hours ago    Up 7 hours                                                                syncldap_ldap-service.1.v6who94a14j7rks8vm24s5o7w
a6b820cf32fc   odk/sync-web-ui:latest     "sh -c 'java $JAVA_O…"   7 hours ago    Up 7 hours                                                                syncldap_web-ui.1.dntz9ffqcykqaj6wxzkbvvatj
91b76ef1d327   odk/sync-endpoint:latest   "/usr/local/tomcat/b…"   7 hours ago    Up 7 hours                                                                syncldap_sync.1.meb98xbxu86ll4uouo953oxru
2aa7bac670da   postgres:9.6               "docker-entrypoint.s…"   7 hours ago    Up 7 hours                                                                syncldap_db.1.y3a4grqf604v0mhm9ckzqfeod
751aac120868   nginx:1.21.3               "/docker-entrypoint.…"   7 hours ago    Up 7 hours                  80/tcp                                        syncldap_nginx.1.1efig7zr0thmn4gpbnsfui2w7
9ceef2bef013   odk/openldap:latest        "/container/tool/run"    28 hours ago   Exited (255) 7 hours ago                                                  syncldap_ldap-service.1.0k13n1g0hzjbihx3977b3zkto
5b1388525311   odk/phpldapadmin:latest    "/container/tool/run"    28 hours ago   Exited (255) 7 hours ago    80/tcp, 443/tcp                               syncldap_phpldapadmin.1.nxfj82ldtdlmlrsau7i3fjxq9
053fb54132f5   odk/sync-web-ui:latest     "sh -c 'java $JAVA_O…"   28 hours ago   Exited (255) 7 hours ago                                                  syncldap_web-ui.1.q5n8usqo0y0xn9c4h1jbe3fix
b7b03d5322f6   postgres:9.6               "docker-entrypoint.s…"   28 hours ago   Exited (255) 7 hours ago                                                  syncldap_db.1.g23q59rtdowgcb9hpalengc6d
1caf844038b3   odk/sync-web-ui:latest     "sh -c 'java $JAVA_O…"   2 days ago     Exited (255) 28 hours ago                                                 syncldap_web-ui.1.yttuojs6m7x85lyv9vd2o3xnl
8f22bffffcfe   odk/sync-endpoint:latest   "/usr/local/tomcat/b…"   2 days ago     Exited (255) 28 hours ago                                                 syncldap_sync.1.85i2c59lkzxurljexyth6pnly
b684aee5e7d0   odk/phpldapadmin:latest    "/container/tool/run"    2 days ago     Exited (255) 28 hours ago   80/tcp, 443/tcp                               syncldap_phpldapadmin.1.jszk8lrbcdxhv8wfxg3x4hzlf
abbe453c4068   nginx:1.21.3               "/docker-entrypoint.…"   2 days ago     Exited (255) 28 hours ago   80/tcp                                        syncldap_nginx.1.5hykere5nrv99i9mi9cgxdotq
b285a887b385   postgres:9.6               "docker-entrypoint.s…"   2 days ago     Exited (255) 28 hours ago                                                 syncldap_db.1.t52vvidd0qpif3yngvnskm3p5
0d40648e0c0c   odk/phpldapadmin:latest    "/container/tool/run"    2 days ago     Exited (255) 2 days ago     80/tcp, 443/tcp                               syncldap_phpldapadmin.1.5yf7xypwueqj6o5ucfbatq54r
87b236a2a1cf   odk/sync-endpoint:latest   "/usr/local/tomcat/b…"   2 days ago     Exited (255) 2 days ago                                                   syncldap_sync.1.tk9tahaqgurlc02p54bo8hr3v
52ba8790d41d   postgres:9.6               "docker-entrypoint.s…"   2 days ago     Exited (255) 2 days ago                                                   syncldap_db.1.37baz7a0s3gvjz2yf8vb4ygsl
238dcac8a78d   odk/openldap:latest        "/container/tool/run"    2 days ago     Exited (255) 2 days ago                                                   syncldap_ldap-service.1.rhvvflpcyk1m59q1narb9bmtz
bf996346f538   odk/sync-web-ui:latest     "sh -c 'java $JAVA_O…"   2 days ago     Exited (255) 2 days ago                                                   syncldap_web-ui.1.locy8gbpv1ccdzgwia1g9rvm3
01318fe7e261   odk/openldap:latest        "/container/tool/run"    2 days ago     Exited (255) 2 days ago                                                   syncldap_ldap-service.1.7n7x0ywzbvh837ul6m8hha2ih
bc3ee30255c1   odk/sync-web-ui:latest     "sh -c 'java $JAVA_O…"   2 days ago     Exited (255) 2 days ago                                                   syncldap_web-ui.1.a9duqbvmdj4jonr2pgehvibv3
4b2b5d6d784b   odk/phpldapadmin:latest    "/container/tool/run"    3 days ago     Exited (255) 2 days ago     80/tcp, 443/tcp                               syncldap_phpldapadmin.1.9lz0v7ub5a2cp0h3ofpi94sp8
91d7acc8127d   odk/sync-endpoint:latest   "/usr/local/tomcat/b…"   3 days ago     Exited (255) 2 days ago                                                   syncldap_sync.1.zdje6dultz2fkw76i2o81m2x7
f6e4dc7fe232   nginx:1.21.3               "/docker-entrypoint.…"   3 days ago     Exited (255) 2 days ago     80/tcp                                        syncldap_nginx.1.rvqcs0ie9fo8x0p2j2gxq8zzx
2ee44ea372cb   odk/openldap:latest        "/container/tool/run"    3 days ago     Exited (255) 3 days ago                                                   syncldap_ldap-service.1.fwtq7hwc03aaj5sgr3mosw0kp
3fa49169cfe5   odk/sync-endpoint:latest   "/usr/local/tomcat/b…"   3 days ago     Exited (255) 3 days ago                                                   syncldap_sync.1.9x6f6l6u3bdera14amqq599pr
088d02ae1472   nginx:1.21.3               "/docker-entrypoint.…"   3 days ago     Exited (255) 3 days ago     80/tcp                                        syncldap_nginx.1.jcryuo8xfay2t14lru8j26f4g
2d7ac00b13cf   postgres:9.6               "docker-entrypoint.s…"   7 days ago     Exited (0) 7 days ago                                                     syncldap_db.1.c5l2cot0h5hl2e02lndegc9k9
8e000dbf02e3   postgres:15                "docker-entrypoint.s…"   3 months ago   Up 7 hours                  0.0.0.0:5433->5432/tcp, [::]:5433->5432/tcp   pg15_analytics
e9884d68faf8   odk/openldap-mysql-test    "/container/tool/run"    3 months ago   Created                                                                   openldap-mysql-test-1

NETWORK ID     NAME                    DRIVER    SCOPE
a6bf5ad99b80   bridge                  bridge    local
9a188524fc3b   docker_gwbridge         bridge    local
bdb629d72556   host                    host      local
hztgmv84upua   ingress                 overlay   swarm
ba4581417e3f   none                    null      local
m19xx6ywze06   sync-network            overlay   swarm
pqq311l3vu21   syncldap_db-network     overlay   swarm
iic2jt8rj7yl   syncldap_ldap-network   overlay   swarm
kg6ph1ytlsds   syncldap_sync-network   overlay   swarm

DRIVER    VOLUME NAME
local     9a1fe3640ecce344801daf013900113e8219923a978c82b87d9be2d376fd66d8
local     21f46025aa7985e79d01990f7ca0f0a14dce4491c961f2dcef4270dd56f9e8c8
local     27bb023cc0d2391db4ae1194978bd99095cd06f2a39d775e756771906265ec5e
local     27f691c9e9a499aa2bca6727dd661e594bd8bc714647083b3bf36a1ed31eeda5
local     47f4a88d50b523d058535ee31a50dd23e29120bff4d9fbc1b6a55526cdbfc508
local     381b24e053c24d2f6ec49f71dac8378de383cc598bc3de28d0a72d6af8e21b2e
local     718547c02f0e816a5dac1f907009bfe2105760e5873f5d0f45434770cca9d13f
local     a75c75f5c28d763c35e0e9f3347d1051644b3d04844cad130a64865639a3d922
local     bdb6440cd79b69cba9c87bc575219cdc877296f891622269a8ed32b92b180bb0
local     c48d0e905d190b90d3db3cf9915289c42aaaf9265e5200a75e3fbba1e7a32e10
local     c06925b7b84b609c0b057ce824972ac7316615482e6e49e84754f5132d582d58
local     d797835d34f6790dfbb7781585743402ed3c4888b8355e87db30ac0ed0432328
local     f8b71e3e007393475134d9fd333ac938d5927d5e4f7d88987d02fec2f164a482
local     syncldap_db-vol
local     syncldap_ldap-slapd.d-vol
local     syncldap_ldap-vol

## PYTHON DEPENDENCIES
celery==5.5.3
django-celery-beat==2.8.1
django-cors-headers==4.9.0
django-extensions==4.1
django-timezone-field==7.1
djangorestframework==3.16.1
djangorestframework_simplejwt==5.5.1
drf-yasg==1.21.11

## NODE DEPENDENCIES
frontend@0.0.0 /home/shaykins/Projects/omics/frontend
├── @eslint/js@9.39.1
├── @types/react-dom@19.2.2
├── @types/react@19.2.2
├── @vitejs/plugin-react@5.1.0
├── eslint-plugin-react-hooks@5.2.0
├── eslint-plugin-react-refresh@0.4.24
├── eslint@9.39.1
├── globals@16.5.0
├── react-dom@19.2.0
├── react-router-dom@7.9.6
├── react@19.2.0
└── vite@7.1.12


## GIT STATUS
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   generate_project_snapshot_full.sh

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	snapshots/omics_snapshot_2025-11-21_20-36.txt
	venv/

no changes added to commit (use "git add" and/or "git commit -a")
78b38f9 Clean: add production-grade .gitignore and reset tracked files
a7159bf Add Data Management Policy section to README (file storage, backup, reproducibility)
97f34ad Add NCBI Taxonomy Integration section to README with import instructions

## SYSTEM STATUS
Disk Usage:
Filesystem                         Size  Used Avail Use% Mounted on

Running Processes (celery, gunicorn, nginx):
shaykins    1051  0.0  0.2  30808 22004 ?        Ss   13:10   0:07 /var/www/reslab-portal/venv/bin/python -m gunicorn --workers 3 --chdir /var/www/reslab-portal --bind unix:/run/gunicorn/reslab/reslab.sock reslab_site.wsgi:application
root        1120  0.0  0.0  56300  1868 ?        Ss   13:10   0:00 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;
www-data    1125  0.0  0.0  56608  6960 ?        S    13:10   0:00 nginx: worker process
www-data    1126  0.0  0.0  56608  6644 ?        S    13:10   0:00 nginx: worker process
shaykins    1243  0.0  0.4  49300 36736 ?        S    13:10   0:00 /var/www/reslab-portal/venv/bin/python -m gunicorn --workers 3 --chdir /var/www/reslab-portal --bind unix:/run/gunicorn/reslab/reslab.sock reslab_site.wsgi:application
shaykins    1249  0.0  0.4  49300 36740 ?        S    13:10   0:00 /var/www/reslab-portal/venv/bin/python -m gunicorn --workers 3 --chdir /var/www/reslab-portal --bind unix:/run/gunicorn/reslab/reslab.sock reslab_site.wsgi:application
shaykins    1252  0.0  0.4  49300 36740 ?        S    13:10   0:00 /var/www/reslab-portal/venv/bin/python -m gunicorn --workers 3 --chdir /var/www/reslab-portal --bind unix:/run/gunicorn/reslab/reslab.sock reslab_site.wsgi:application
root        3271  0.0  0.0  10932  6692 ?        Ss   13:10   0:00 nginx: master process nginx -g daemon off;
systemd+    5045  0.0  0.0  11468  3624 ?        S    13:10   0:00 nginx: worker process
systemd+    5046  0.0  0.0  11468  2860 ?        S    13:10   0:00 nginx: worker process
shaykins   17768  0.1  0.8  81648 71360 ?        Ss   15:27   0:32 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/celery -A omics worker -l info --pool=solo
shaykins   17773  0.0  0.8  82532 72236 ?        Ss   15:27   0:10 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/celery -A omics beat -l info --scheduler django_celery_beat.schedulers:DatabaseScheduler
shaykins   19695  0.0  0.2  30824 22144 ?        Ss   15:45   0:04 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   19700  0.0  0.5  66092 43624 ?        S    15:45   0:00 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   19703  0.0  0.5  66092 43624 ?        S    15:45   0:00 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   19708  0.0  0.5  66092 43624 ?        S    15:45   0:00 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   21476  0.0  0.2  30808 22204 ?        Ss   15:57   0:04 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   21481  0.0  1.2 144288 104364 ?       S    15:57   0:01 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   21482  0.0  1.2 144276 104620 ?       S    15:57   0:01 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   21483  0.0  1.2 142992 103272 ?       S    15:57   0:01 /home/shaykins/Projects/SmartFieldDashboard/env/bin/python3 /home/shaykins/Projects/SmartFieldDashboard/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SmartFieldDashboard --bind unix:/run/gunicorn/smartfield/smartfield.sock smartfield_dashboard.wsgi:application
shaykins   21530  0.0  0.2  30804 22112 ?        Ss   15:57   0:04 /home/shaykins/Projects/SaccoPlus/backend/env/bin/python3 /home/shaykins/Projects/SaccoPlus/backend/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SaccoPlus/backend --bind unix:/run/gunicorn/saccoplus/saccoplus.sock sacco_backend.wsgi:application
shaykins   21541  0.0  0.2  30808 22128 ?        Ss   15:57   0:04 /home/shaykins/Projects/AutoTrackX/venv/bin/python3 /home/shaykins/Projects/AutoTrackX/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/AutoTrackX --bind unix:/run/gunicorn/autotrackx/autotrackx.sock autotrackx_site.wsgi:application
shaykins   21545  0.0  0.2  30808 22212 ?        Ss   15:57   0:04 /home/shaykins/Projects/narolims/venv/bin/python3 /home/shaykins/Projects/narolims/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/narolims --bind unix:/run/gunicorn/narolims/narolims.sock naro_lims.wsgi:application
www-data   21551  0.0  0.2  30808 22128 ?        Ss   15:57   0:04 /var/www/reslab-portal/venv/bin/python3 /var/www/reslab-portal/venv/bin/gunicorn --workers 3 --bind unix:/run/gunicorn/reslab.sock reslab_site.wsgi:application
shaykins   21557  0.0  0.4  50500 38308 ?        S    15:57   0:00 /home/shaykins/Projects/SaccoPlus/backend/env/bin/python3 /home/shaykins/Projects/SaccoPlus/backend/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SaccoPlus/backend --bind unix:/run/gunicorn/saccoplus/saccoplus.sock sacco_backend.wsgi:application
shaykins   21560  0.0  0.4  50500 38308 ?        S    15:57   0:00 /home/shaykins/Projects/SaccoPlus/backend/env/bin/python3 /home/shaykins/Projects/SaccoPlus/backend/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SaccoPlus/backend --bind unix:/run/gunicorn/saccoplus/saccoplus.sock sacco_backend.wsgi:application
shaykins   21561  0.0  0.4  49384 37084 ?        S    15:57   0:00 /home/shaykins/Projects/AutoTrackX/venv/bin/python3 /home/shaykins/Projects/AutoTrackX/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/AutoTrackX --bind unix:/run/gunicorn/autotrackx/autotrackx.sock autotrackx_site.wsgi:application
shaykins   21563  0.0  0.4  50500 38312 ?        S    15:57   0:00 /home/shaykins/Projects/SaccoPlus/backend/env/bin/python3 /home/shaykins/Projects/SaccoPlus/backend/env/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/SaccoPlus/backend --bind unix:/run/gunicorn/saccoplus/saccoplus.sock sacco_backend.wsgi:application
shaykins   21565  0.0  0.4  49384 37084 ?        S    15:57   0:00 /home/shaykins/Projects/AutoTrackX/venv/bin/python3 /home/shaykins/Projects/AutoTrackX/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/AutoTrackX --bind unix:/run/gunicorn/autotrackx/autotrackx.sock autotrackx_site.wsgi:application
shaykins   21566  0.0  0.4  49384 37088 ?        S    15:57   0:00 /home/shaykins/Projects/AutoTrackX/venv/bin/python3 /home/shaykins/Projects/AutoTrackX/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/AutoTrackX --bind unix:/run/gunicorn/autotrackx/autotrackx.sock autotrackx_site.wsgi:application
shaykins   21567  0.0  0.6  91628 53340 ?        S    15:57   0:00 /home/shaykins/Projects/narolims/venv/bin/python3 /home/shaykins/Projects/narolims/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/narolims --bind unix:/run/gunicorn/narolims/narolims.sock naro_lims.wsgi:application
www-data   21568  0.0  0.4  50620 37908 ?        S    15:57   0:00 /var/www/reslab-portal/venv/bin/python3 /var/www/reslab-portal/venv/bin/gunicorn --workers 3 --bind unix:/run/gunicorn/reslab.sock reslab_site.wsgi:application
shaykins   21570  0.0  0.5  85732 47180 ?        S    15:57   0:00 /home/shaykins/Projects/narolims/venv/bin/python3 /home/shaykins/Projects/narolims/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/narolims --bind unix:/run/gunicorn/narolims/narolims.sock naro_lims.wsgi:application
www-data   21571  0.0  0.4  50616 37588 ?        S    15:57   0:00 /var/www/reslab-portal/venv/bin/python3 /var/www/reslab-portal/venv/bin/gunicorn --workers 3 --bind unix:/run/gunicorn/reslab.sock reslab_site.wsgi:application
www-data   21572  0.0  0.4  50620 37904 ?        S    15:57   0:00 /var/www/reslab-portal/venv/bin/python3 /var/www/reslab-portal/venv/bin/gunicorn --workers 3 --bind unix:/run/gunicorn/reslab.sock reslab_site.wsgi:application
shaykins   21573  0.0  0.5  85732 47180 ?        S    15:57   0:00 /home/shaykins/Projects/narolims/venv/bin/python3 /home/shaykins/Projects/narolims/venv/bin/gunicorn --workers 3 --chdir /home/shaykins/Projects/narolims --bind unix:/run/gunicorn/narolims/narolims.sock naro_lims.wsgi:application
shaykins   25148  0.1  0.8  81492 71212 ?        Ss   16:34   0:25 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/celery -A omics worker -l info --pool=solo
shaykins   46264  0.0  0.2  30816 22296 ?        Ss   20:29   0:00 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/gunicorn --workers 4 --timeout 600 --chdir /home/shaykins/Projects/omics --bind unix:/run/omics/omics.sock omics.wsgi:application
shaykins   46269  0.2  0.7  71108 59964 ?        S    20:29   0:01 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/gunicorn --workers 4 --timeout 600 --chdir /home/shaykins/Projects/omics --bind unix:/run/omics/omics.sock omics.wsgi:application
shaykins   46270  0.1  0.7  73392 62048 ?        S    20:29   0:00 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/gunicorn --workers 4 --timeout 600 --chdir /home/shaykins/Projects/omics --bind unix:/run/omics/omics.sock omics.wsgi:application
shaykins   46271  0.1  0.7  69936 58808 ?        S    20:29   0:00 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/gunicorn --workers 4 --timeout 600 --chdir /home/shaykins/Projects/omics --bind unix:/run/omics/omics.sock omics.wsgi:application
shaykins   46272  0.1  0.7  72204 60764 ?        S    20:29   0:00 /home/shaykins/Projects/omics/venv/bin/python3 /home/shaykins/Projects/omics/venv/bin/gunicorn --workers 4 --timeout 600 --chdir /home/shaykins/Projects/omics --bind unix:/run/omics/omics.sock omics.wsgi:application

